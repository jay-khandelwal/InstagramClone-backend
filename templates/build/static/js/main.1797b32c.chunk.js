(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[0],{167:function(e,t,a){e.exports=a(215)},172:function(e,t,a){},215:function(e,t,a){"use strict";a.r(t);var n=a(0),o=a.n(n),r=a(21),c=a.n(r),i=(a(172),a(263)),l=a(145),s=a(279),m=a(10),u=a(66),d=a(62),p=a(148),f=a(146),h=a(24),g=a(52),b=a(278),E=a(149),v=Object(m.b)((function(e){return{token:e.auth.token}}))((function(e){var t=e.component,a=e.token,n=Object(E.a)(e,["component","token"]);return o.a.createElement(h.b,Object.assign({},n,{render:function(e){return null!==a?o.a.createElement(t,e):o.a.createElement(h.a,{to:"/login"})}}))})),k=a(2),y=a(11),w=a(256),x=a(287),O=a(260),j=a(218),N=a(77),C=a(154),S=a(288),_=a(262),T=a(289),A=a(147),R=a(92),F=a.n(R),z=a(95),D=a.n(z),W=a(111),I=a.n(W),B=a(6),M=a(93),P=a.n(M),L=a(94),H=a.n(L),U=a(40),q=a.n(U),Y=a(56),G=a.n(Y),J=a(96),X=a.n(J),V=a(97),Q=a.n(V),$=a(134),K=a.n($),Z=a(261),ee=a(5),te=a.n(ee),ae=a(217),ne=a(33),oe="http://13.126.45.221:8000",re=function(e){var t=new Date(e),a=new Date;if(a.getFullYear()===t.getFullYear())return a.getMonth()===t.getMonth()?a.getDate()===t.getDate()?a.getHours()===t.getHours()?a.getMinutes()-t.getMinutes()<2?"Just Now":"".concat(a.getMinutes()-t.getMinutes()," MINUTES AGO"):"".concat(a.getHours()-t.getHours()," HOURS AGO"):"".concat(a.getDate()-t.getDate()," DAYS AGO"):"".concat(t.getDate()," ").concat(["January","February","March","April","May","June","July","August","September","October","November","December"][t.getMonth()])},ce=a(285),ie=a(254),le=a(216),se=function(e){return{type:"AUTH_SUCCESS",user:e}},me=function(e){localStorage.removeItem("user");var t="".concat(oe,"/rest-auth/logout/");return te.a.get(t,{headers:{Authorization:"Token ".concat(e)}}).then((function(e){})).catch((function(e){})),{type:"AUTH_LOGOUT"}},ue=o.a.forwardRef((function(e,t){return o.a.createElement(ie.a,Object.assign({direction:"up",ref:t},e))})),de=Object(w.a)((function(e){return{root:{maxWidth:"300px",textAlign:"center"},overview:{padding:"0.8rem 0.5rem","& p":{color:"#38383897"}},btn:{borderTop:"1px solid #83838355"}}})),pe=Object(m.b)((function(e){return{token:e.auth.token}}),(function(e){return{onLogout:function(t){return e(me(t))}}}))((function(e){var t=de(),a=Object(h.g)();return o.a.createElement(ce.a,{open:e.open,TransitionComponent:ue,keepMounted:!0,onClose:e.close,"aria-labelledby":"alert-dialog-slide-title","aria-describedby":"alert-dialog-slide-description"},o.a.createElement("div",{className:t.root},o.a.createElement("div",{className:t.overview},o.a.createElement(N.a,{variant:"h6",component:"h6",style:{fontWeight:"500"}},"Logout ?"),o.a.createElement(N.a,{variant:"caption",component:"p"},"Are you sure you want to logout ?")),o.a.createElement("div",{className:t.options},o.a.createElement(le.a,{fullWidth:!0,onClick:function(){e.onLogout(e.token),a.push("/"),e.close()},className:t.btn,style:{color:"#f82929"}},"Yes! logout"),o.a.createElement(le.a,{fullWidth:!0,onClick:e.close,className:t.btn},"No! take me back"))))})),fe=function(e){return{type:"Remove_Pic_Loading",loading:e}},he=function(e){return{type:"UploadImage",imageFile:e}},ge=a(258),be=a(153),Ee=Object(w.a)((function(e){return{root:{padding:"0.5rem",flexWrap:"nowrap"},gridone:{margin:"auto"},gridtwo:{width:"100%",marginLeft:"1.1rem",margin:"auto"},btnstyle:{width:"100%",textAlign:"left"},button:{margin:"auto"}}})),ve=Object(m.b)((function(e){return{token:e.auth.token}}))((function(e){var t=Ee(),a=Object(n.useState)(e.type),r=Object(k.a)(a,2),c=r[0],i=r[1],l="/".concat(e.first);return o.a.createElement(be.a,{focusRipple:!0,className:t.btnstyle,color:"primary",component:B.b,to:l},o.a.createElement(ge.a,{container:!0,justify:"center",alignContent:"center",className:t.root},o.a.createElement(ge.a,{item:!0,className:t.gridone},o.a.createElement(S.a,{"aria-label":"recipe",className:t.avatar,src:e.profile_pic})),o.a.createElement(ge.a,{item:!0,xs:!0,className:t.gridtwo},o.a.createElement(N.a,{variant:"subtitle1"},e.first),o.a.createElement(N.a,{variant:"caption",color:"textSecondary"},e.second)),e.children,"follow"===c?o.a.createElement("div",{className:t.button},o.a.createElement(le.a,{size:"small",style:{color:"white",backgroundColor:"#009cfde8"}},"Follow")):null,"following"===c?o.a.createElement("div",{className:t.button},o.a.createElement(le.a,{size:"small",style:{color:"#009cfde8",border:"1px solid #009cfde8"},onClick:function(e){e.stopPropagation(),i("follow")}},"Following")):null,"requested"===c?o.a.createElement("div",{className:t.button},o.a.createElement(le.a,{size:"small",style:{color:"tomato",border:"1px solid tomato"},onClick:function(t){var a="".concat(oe,"/frequest/cancel/");te.a.post(a,{receiver:e.first},{headers:{Authorization:"Token ".concat(e.token)}}).then((function(e){})).catch((function(e){}))}},"Cancel")):null))})),ke=Object(w.a)((function(e){return Object(x.a)({root:{},grow:{flexGrow:1},appbar:{height:"60px",backgroundColor:"white",color:"black",width:"100%",position:"fixed",top:0,left:0,zIndex:10,borderBottom:"1px solid #dbdbdb"},toolbarStyle:{"@media (min-width:975px)":{width:"975px",margin:"auto"}},search:Object(y.a)({position:"relative",display:"none",border:"1px solid #c5c5c587"},e.breakpoints.up("md"),{width:"auto",display:"block"}),search2:Object(y.a)({position:"relative",border:"1px solid #c5c5c587"},e.breakpoints.up("md"),{width:"auto"}),searchIcon:{padding:e.spacing(0,2),height:"100%",position:"absolute",pointerEvents:"none",display:"flex",alignItems:"center",justifyContent:"center"},inputRoot:{color:"inherit"},inputInput:Object(y.a)({padding:e.spacing(1,1,1,0),paddingLeft:"calc(1em + ".concat(e.spacing(4),"px)"),transition:e.transitions.create("width"),width:"100%"},e.breakpoints.up("md"),{width:"20ch"}),sectionDesktop:Object(y.a)({display:"none"},e.breakpoints.up("md"),{display:"flex"}),sectionMobile:Object(y.a)({display:"flex",position:"relative"},e.breakpoints.up("md"),{display:"none"}),iconone:{padding:"4px"},icontwo:{border:"3px solid gray",color:"gray",padding:"1px"},input:{display:"none"}})})),ye=Object(m.b)((function(e){return{token:e.auth.token,username:e.auth.username,directcount:e.notifications.directcount,maincount:e.notifications.maincount}}),(function(e){return{UploadImageFile:function(t){return e(he(t))}}}))((function(e){var t=ke(),a=Object(h.g)(),r=Object(n.useState)(null),c=Object(k.a)(r,2),i=c[0],l=c[1],s=Object(n.useState)([]),m=Object(k.a)(s,2),u=m[0],d=m[1],p=Object(n.useRef)(null),f=Object(n.useRef)(null),g=Object(n.useState)(!1),b=Object(k.a)(g,2),E=b[0],v=b[1],y=Object(n.useState)(!1),w=Object(k.a)(y,2),x=w[0],R=w[1],z=Boolean(i),W=Object(ne.a)(),M=Object(ae.a)(W.breakpoints.up("md")),L=function(){l(null)};Object(n.useEffect)((function(){e.makeFocus&&p.current.focus()}),[e.makeFocus]),Object(n.useEffect)((function(){var e=function(e){f.current&&!f.current.contains(e.target)&&R(!1)};return document.addEventListener("mousedown",e),function(){document.removeEventListener("mousedown",e)}}),[f]);var U,Y="primary-search-account-menu",J=o.a.createElement(A.a,{anchorEl:i,anchorOrigin:{vertical:"top",horizontal:"right"},id:Y,keepMounted:!0,transformOrigin:{vertical:"top",horizontal:"right"},open:z,onClose:L},o.a.createElement(T.a,{component:B.c,to:"/".concat(e.username),onClick:L},"Profile"),o.a.createElement(T.a,{component:B.c,to:"/".concat(e.username,"/saved"),onClick:L},"Saved"),o.a.createElement(T.a,{component:B.c,to:"/accounts/edit",onClick:L},"Settings"),o.a.createElement("hr",null),o.a.createElement(T.a,{onClick:function(){L(),v(!0)}},"Log Out")),V=u.map((function(e){return o.a.createElement(ve,{key:e.id,profile_pic:e.profile_pic,first:e.username,second:e.full_name})}));return o.a.createElement("div",{className:"".concat(t.grow," ").concat(t.root)},o.a.createElement("div",{position:"fixed",className:t.appbar},o.a.createElement(O.a,{className:t.toolbarStyle},!M&&e.home||M?o.a.createElement(N.a,{className:t.title,id:"instagramtext",variant:"h4",noWrap:!0},"Instagram"):null,o.a.createElement("div",{className:t.sectionMobile},e.direct||e.chat?o.a.createElement(o.a.Fragment,null,o.a.createElement(j.a,{className:t.iconone},o.a.createElement(G.a,null))):null,e.chat&&o.a.createElement(o.a.Fragment,null,e.loading?o.a.createElement(o.a.Fragment,null,o.a.createElement(Z.a,{variant:"circle"},o.a.createElement(S.a,null)),o.a.createElement(Z.a,{width:"90px",style:{margin:"1rem"}},o.a.createElement(N.a,null,"."))):o.a.createElement(o.a.Fragment,null,o.a.createElement("div",{style:{padding:"0.6rem"}},o.a.createElement(S.a,{"aria-label":"qldk",className:t.avatar,src:e.profile_pic})),o.a.createElement("div",{style:{marginTop:"auto",marginBottom:"auto"}},o.a.createElement(N.a,{component:"h5",variant:"h6"},e.full_name))))),o.a.createElement("div",{className:t.grow}),o.a.createElement("div",{style:{display:"flex",position:"relative",justifyContent:"center"},ref:f},o.a.createElement("div",{className:e.explore?t.search2:t.search},o.a.createElement("div",{className:t.searchIcon},o.a.createElement(F.a,null)),o.a.createElement(C.a,{onChange:M?function(t){var a=t.target.value;if(""!==a){"undefined"!=typeof U&&U.cancel("Operation canceled due to new request."),U=te.a.CancelToken.source();var n="".concat(oe,"/accounts/search/?search=").concat(a);te.a.get(n,{cancelToken:U.token,headers:{Authorization:"Token ".concat(e.token)}}).then((function(e){d(e.data.results),R(!0)})).catch((function(e){}))}""===a&&d([])}:e.searchHandler,placeholder:"Search\u2026",classes:{root:t.inputRoot,input:t.inputInput},inputProps:{"aria-label":"search"},inputRef:p})),0!==u.length&&x&&o.a.createElement("div",{style:{position:"absolute",overflowY:"auto",maxHeight:"200px",top:"38px",width:"100%",backgroundColor:"#ffffff",border:"1px solid #6565653c"}},V)),o.a.createElement("div",{className:t.sectionMobile},e.profile?o.a.createElement(N.a,{className:t.title,id:"instagramtext",variant:"h6",noWrap:!0},e.name):null,e.activity?o.a.createElement(N.a,{className:t.title,id:"instagramtext",variant:"h4",noWrap:!0},"Activity"):null,e.direct?o.a.createElement(N.a,{className:t.title,id:"instagramtext",variant:"h4",noWrap:!0},"Direct"):null),o.a.createElement("div",{className:t.grow}),o.a.createElement("div",{className:t.sectionDesktop},o.a.createElement(j.a,{color:"inherit",component:B.c,to:"/"},o.a.createElement(P.a,null)),o.a.createElement(j.a,{color:"inherit",component:B.c,to:"/direct/inbox"},o.a.createElement(_.a,{badgeContent:e.directcount,invisible:0===e.directcount,color:"primary"},o.a.createElement(I.a,null))),o.a.createElement("input",{type:"file",accept:"image/png, image/jpeg",name:"image",className:t.input,id:"contain-button-file",onChange:function(t){var n=t.target.files[0];e.UploadImageFile(n),a.push("/create/detail")}}),o.a.createElement("label",{htmlFor:"contain-button-file"},o.a.createElement(j.a,{color:"inherit",component:"span"},o.a.createElement(H.a,null))),o.a.createElement(j.a,{"aria-label":"show 17 new notifications",component:B.b,color:"inherit",to:{pathname:"/activity",state:{activity:!0}}},o.a.createElement(_.a,{badgeContent:e.maincount,invisible:0===e.maincount,color:"secondary"},o.a.createElement(q.a,null))),o.a.createElement(j.a,{edge:"end","aria-label":"account of current user","aria-controls":Y,"aria-haspopup":"true",color:"inherit",onClick:function(e){l(e.currentTarget)}},o.a.createElement(D.a,null))),o.a.createElement("div",{className:t.sectionMobile},e.home?o.a.createElement(j.a,{component:B.c,to:"/direct/inbox"},o.a.createElement(_.a,{badgeContent:e.directcount,invisible:0===e.directcount,color:"primary"},o.a.createElement(I.a,null))):null,e.direct?o.a.createElement(j.a,{component:B.c,to:"/direct/new"},o.a.createElement(X.a,null)):null,e.chat?o.a.createElement(j.a,{className:t.icontwo,onClick:function(){return e.setOpen(!0)}},o.a.createElement(Q.a,null)):null,e.profile&&"owner"===e.type?o.a.createElement(j.a,{component:B.b,to:"/settings",style:{position:"absolute",right:2,bottom:"-25px"}},o.a.createElement(K.a,null)):null))),J,E&&o.a.createElement(pe,{open:E,close:function(){v(!1)}}))})),we=a(264),xe=Object(w.a)((function(e){return Object(x.a)({text:{padding:e.spacing(2,2,0)},appBar:Object(y.a)({top:"auto",bottom:0,backgroundColor:"white",color:"black"},e.breakpoints.up("md"),{display:"none"}),bticon:{width:"20%",textAlign:"center"}})})),Oe=Object(m.b)((function(e){return{username:e.auth.username,maincount:e.notifications.maincount}}),(function(e){return{UploadImageFile:function(t){return e(he(t))}}}))((function(e){var t=xe(),a=Object(h.g)();return o.a.createElement("div",null,o.a.createElement(i.a,null),o.a.createElement(we.a,{position:"fixed",color:"primary",className:t.appBar},o.a.createElement(O.a,null,o.a.createElement(ge.a,{container:!0,className:t.cnt},o.a.createElement("div",{className:t.bticon},o.a.createElement(j.a,{color:"inherit",component:B.c,to:"/"},o.a.createElement(P.a,null))),o.a.createElement("div",{className:t.bticon},o.a.createElement(j.a,{color:"inherit",component:B.c,to:"/explore"},o.a.createElement(F.a,null))),o.a.createElement("input",{type:"file",accept:"image/png, image/jpeg",name:"image",id:"contain-button-file",onChange:function(t){var n=t.target.files[0];console.log(n),e.UploadImageFile(n),a.push("/create/detail")},style:{display:"none"}}),o.a.createElement("div",{className:t.bticon},o.a.createElement("label",{htmlFor:"contain-button-file"},o.a.createElement(j.a,{component:"span",color:"inherit"},o.a.createElement(H.a,null)))),o.a.createElement("div",{className:t.bticon},o.a.createElement(j.a,{color:"inherit",component:B.c,to:"/activity"},o.a.createElement(_.a,{badgeContent:e.maincount,invisible:0===e.maincount,color:"secondary"},o.a.createElement(q.a,null)))),o.a.createElement("div",{className:t.bticon},o.a.createElement(j.a,{color:"inherit",component:B.c,to:"/".concat(e.username)},o.a.createElement(D.a,null)))))))})),je=a(265),Ne=Object(w.a)((function(e){return Object(x.a)({large:{width:e.spacing(7),height:e.spacing(7),margin:"3px",border:"3px solid white"},avatarborder:{border:"1px solid white",borderRadius:"50%",backgroundImage:"linear-gradient(to right, #833ab4, #b123a4, #d3008c, #eb0070, #f90051, #fe2941, #ff412f, #fe5618, #fe711b, #fd8825, #fd9d33, #fcb045)"}})})),Ce=function(){var e=Ne();return o.a.createElement("div",{style:{margin:"auto 0.4rem"}},o.a.createElement("div",{className:e.avatarborder},o.a.createElement(S.a,{alt:"Remy Sharp",src:"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcQPEqHqH79TDbD5nimV_an_-cyDr51fUpgPLg&usqp=CAU",className:e.large})),o.a.createElement(N.a,{variant:"caption"},"hritik"))},Se=Object(w.a)((function(e){return Object(x.a)({root:{width:"100%",display:"flex",overflowX:"scroll",backgroundColor:"white",textAlign:"center",padding:"0.4rem","@media (min-width:604px)":{border:"1px solid #6565653c",marginBottom:"20px"},"@media (min-width:768px)":{marginBottom:"1rem"}},large:{width:e.spacing(7),height:e.spacing(7)}})}));function _e(){var e=Se(),t=Object(ne.a)();return Object(ae.a)(t.breakpoints.up("md"))?o.a.createElement("div",{className:"".concat(e.root," noscrollbar")},o.a.createElement(Ce,null),o.a.createElement(Ce,null),o.a.createElement(Ce,null),o.a.createElement(Ce,null),o.a.createElement(Ce,null),o.a.createElement(Ce,null),o.a.createElement(Ce,null),o.a.createElement(Ce,null)):o.a.createElement(je.a,{className:"".concat(e.root," noscrollbar")},o.a.createElement(Ce,null),o.a.createElement(Ce,null),o.a.createElement(Ce,null),o.a.createElement(Ce,null),o.a.createElement(Ce,null),o.a.createElement(Ce,null),o.a.createElement(Ce,null),o.a.createElement(Ce,null))}var Te=a(15),Ae=a(270),Re=a(271),Fe=a(16),ze=a.n(Fe),De=a(51),We=a.n(De),Ie=a(100),Be=a.n(Ie),Me=a(99),Pe=a.n(Me),Le=a(69),He=a.n(Le),Ue=a(71),qe=a.n(Ue),Ye=a(70),Ge=a.n(Ye),Je=a(269),Xe=a(284),Ve=o.a.forwardRef((function(e,t){return o.a.createElement(ie.a,Object.assign({direction:"up",ref:t},e))})),Qe=Object(w.a)((function(e){return{content:{backgroundColor:"#ffffff","& h4":{margin:"1.5rem 1rem"},"& hr":{margin:"0px",padding:"0px",backgroundColor:"#80808060"},"& button":{}},btn1:{color:"#4c88c2"},btn2:{color:"#e45035"}}})),$e=function(e){return o.a.createElement(ce.a,{open:e.edit,TransitionComponent:Ve,keepMounted:!0,onClose:e.closeEditDialog,"aria-labelledby":"alert-dialog-slide-title","aria-describedby":"alert-dialog-slide-description"},o.a.createElement("div",{style:{padding:"1rem"}},o.a.createElement(N.a,{variant:"h5",component:"h4",justify:"center"},"Update your caption"),o.a.createElement("div",{style:{paddingTop:"1.2rem"}},o.a.createElement(Xe.a,{autoFocus:!0,margin:"dense",type:"caption",value:e.caption,onChange:function(t){e.setCaption(t.target.value)},fullWidth:!0})),o.a.createElement(Je.a,null,o.a.createElement(le.a,{onClick:e.closeEditDialog,color:"primary"},"Cancel"),o.a.createElement(le.a,{onClick:function(){var t="".concat(oe,"/posts/update/");te.a.patch(t,{caption:e.caption,slug:e.slug},{headers:{Authorization:"Token ".concat(e.token)}}).then((function(t){e.closeEditDialog()})).catch((function(t){e.closeEditDialog()}))},color:"primary"},"Update"))))},Ke=Object(m.b)((function(e){return{username:e.auth.username,token:e.auth.token}}))((function(e){var t=Qe(),a=Object(h.g)(),r=Object(n.useState)(!1),c=Object(k.a)(r,2),i=c[0],l=c[1],s=Object(n.useState)(!1),m=Object(k.a)(s,2),u=m[0],d=m[1],p=function(){e.onClose(),l(!1)};return o.a.createElement("div",null,o.a.createElement(ce.a,{open:e.open,TransitionComponent:Ve,keepMounted:!0,onClose:e.onClose,"aria-labelledby":"alert-dialog-slide-title","aria-describedby":"alert-dialog-slide-description"},o.a.createElement("div",{className:t.content},o.a.createElement(N.a,{variant:"h5",component:"h4",justify:"center"},"Advance Options"),o.a.createElement("div",null,o.a.createElement("hr",null),o.a.createElement(le.a,{fullWidth:!0,className:t.btn2,onClick:function(){return d(!0)}},"Edit"),o.a.createElement("hr",null),o.a.createElement(le.a,{fullWidth:!0,className:t.btn2,onClick:function(){return l(!0)}},"Delete"),o.a.createElement("hr",null),o.a.createElement(le.a,{fullWidth:!0,onClick:e.onClose},"Cancel")))),i&&o.a.createElement(ce.a,{open:i,TransitionComponent:Ve,keepMounted:!0,onClose:p,"aria-labelledby":"alert-dialog-slide-title","aria-describedby":"alert-dialog-slide-description"},o.a.createElement("div",{className:t.content},o.a.createElement(N.a,{variant:"h5",component:"h4",justify:"center"},"Do you really want to delete this post ?"),o.a.createElement("div",null,o.a.createElement("hr",null),o.a.createElement(le.a,{fullWidth:!0,className:t.btn2,onClick:p},"No"),o.a.createElement("hr",null),o.a.createElement(le.a,{fullWidth:!0,className:t.btn2,onClick:function(){var t="".concat(oe,"/posts/delete/").concat(e.slug,"/");te.a.delete(t,{headers:{Authorization:"Token ".concat(e.token)}}).then((function(t){p(),e.deleteFunc?e.deleteFunc(!0):a.goBack()})).catch((function(e){p()}))}},"Yes")))),o.a.createElement($e,{edit:u,closeEditDialog:function(){e.onClose(),d(!1)},slug:e.slug,token:e.token,caption:e.caption,setCaption:e.setCaption}))})),Ze=Object(w.a)((function(e){var t;return{root_root:{"@media (max-width:768px)":{padding:"0.8rem"}},root:(t={backgroundColor:"white",marginBottom:"0.8rem",width:"100%"},Object(y.a)(t,e.breakpoints.up("sm"),{marginBottom:"0.8rem"}),Object(y.a)(t,"@media (min-width:604px)",{border:"1px solid #6565653c"}),t),media:{height:0,paddingTop:"56.25%","& img":{width:"100%",height:"auto"}},imageField:{width:"auto",maxWidth:"100%",overflow:"hidden",height:"auto",position:"relative","& img":{maxWidth:"100%",height:"100%",width:"100%",display:"block",objectFit:"contain","@media (min-width:600px)":{maxHeight:"600px"}}},avatar:{width:e.spacing(4),height:e.spacing(4)},likeBtn:{color:"#ff007e"},card:{width:"100%",marginBottom:e.spacing(2)},mediask:{height:190,"@media (min-width:768px)":{height:400}},savedStyle:{color:"black"},iconStyle:{padding:"4px 0.8rem 4px 2px"},displayNone:{display:"none"}}})),et=function(e){var t=Ze(),a=Object(n.useState)(e.liked||!1),r=Object(k.a)(a,2),c=r[0],i=r[1],l=Object(n.useState)(e.likes||!1),s=Object(k.a)(l,2),m=s[0],u=s[1],d=Object(n.useState)(e.saved||!1),p=Object(k.a)(d,2),f=p[0],h=p[1],g=Object(n.useState)(e.caption||""),b=Object(k.a)(g,2),E=b[0],v=b[1],y=Object(n.useState)(!1),w=Object(k.a)(y,2),x=w[0],O=w[1],C=Object(n.useState)(!1),_=Object(k.a)(C,2),T=_[0],A=_[1],R=Object(n.useState)(!1),F=Object(k.a)(R,2),z=F[0],D=F[1];return o.a.createElement("div",{sytle:{width:"100%"},className:z?t.displayNone:""},o.a.createElement(Ae.a,{className:t.cardHeader,avatar:o.a.createElement(S.a,{"aria-label":"recipe",className:t.avatar,src:e.user.profile_pic}),action:e.owner&&o.a.createElement(j.a,{"aria-label":"settings",onClick:function(){A(!0)}},o.a.createElement(Pe.a,null)),title:o.a.createElement(be.a,{component:B.b,to:"/".concat(e.user.username)},e.user.username)}),o.a.createElement("div",{onDoubleClick:function(){if(O(!0),!c){var t="".concat(oe,"/posts/post/like/");te.a.post(t,{slug:e.slug,liked:c},{headers:{Authorization:"Token ".concat(e.token)}}).then((function(e){c||(i(!0),u(m+1))})).catch((function(e){}))}},className:t.imageField},o.a.createElement("div",{className:"icon icon-heart ".concat(x?"like":"")},o.a.createElement(We.a,{className:t.likeBtn,fontSize:"large"})),o.a.createElement("img",{src:e.image,alt:"irrifi"})),o.a.createElement("div",{style:{padding:"8px 12px",width:"100%"}},o.a.createElement(j.a,{className:t.iconStyle,disableRipple:!0,onClick:function(){var t="".concat(oe,"/posts/post/like/");te.a.post(t,{slug:e.slug,liked:c},{headers:{Authorization:"Token ".concat(e.token)}}).then((function(e){c&&(i(!1),u(m-1)),c||(i(!0),u(m+1))})).catch((function(e){}))}},c&&o.a.createElement(We.a,{className:t.likeBtn}),!c&&o.a.createElement(q.a,null)),o.a.createElement(j.a,{className:t.iconStyle,"aria-label":"comment",component:B.b,to:{pathname:"/p/".concat(e.slug,"/comments"),state:{isModal:!0}}},o.a.createElement(Be.a,null)),o.a.createElement(j.a,{className:t.iconStyle,"aria-label":"share"},o.a.createElement(He.a,null)),o.a.createElement(j.a,{className:t.iconStyle,"aria-label":"share",style:{marginLeft:"auto",float:"right"},onClick:function(){var t="".concat(oe,"/posts/save/");te.a.post(t,{slug:e.slug,saved:f},{headers:{Authorization:"Token ".concat(e.token)}}).then((function(e){f&&h(!1),f||h(!0)})).catch((function(e){}))}},f?o.a.createElement(Ge.a,{className:t.savedStyle}):o.a.createElement(qe.a,{className:t.savedStyle}))),o.a.createElement("div",{style:{padding:"4px 16px"}},o.a.createElement(be.a,{component:B.c,to:{pathname:"/p/".concat(e.slug,"/likes"),state:{isModal:!0}}},o.a.createElement(N.a,{variant:"caption",component:"span",style:{fontSize:"14px"}},"Liked By ",o.a.createElement("b",null," ",m," ")," People")),o.a.createElement("br",null),""!==e.caption&&o.a.createElement(N.a,{variant:"caption",component:"p",style:{color:"#000000",fontSize:"14px"}},o.a.createElement("b",null,e.user.username)," ",E),o.a.createElement(be.a,{component:B.c,to:{pathname:"/p/".concat(e.slug,"/comments"),state:{isModal:!0}},style:{color:"#808080ac",marginBottom:"1rem"}},o.a.createElement(N.a,{variant:"subtitle2",component:"span"},"View all ",e.comments," comments")),o.a.createElement("br",null),o.a.createElement(N.a,{variant:"caption",component:"span",style:{color:"#808080ac",fontSize:"10px",marginTop:"1rem"}},e.timestamp)),T&&o.a.createElement(Ke,{open:T,onClose:function(){A(!1)},slug:e.slug,caption:E,setCaption:v,deleteFunc:D}))},tt=o.a.forwardRef((function(e,t){return o.a.createElement(ie.a,Object.assign({direction:"up",ref:t},e))})),at=Object(w.a)((function(e){return{root:{maxWidth:"300px",textAlign:"center"},overview:{padding:"1.4rem 0.6rem","& p":{color:"#38383897"}},avroot:{margin:"0.5rem auto"},avatar:{margin:"auto",width:e.spacing(10),height:e.spacing(10)},btn:{borderTop:"1px solid #83838355"}}})),nt=function(e){var t=at();return o.a.createElement(ce.a,{open:e.open,TransitionComponent:tt,keepMounted:!0,onClose:e.close,"aria-labelledby":"alert-dialog-slide-title","aria-describedby":"alert-dialog-slide-description"},o.a.createElement("div",{className:t.root},o.a.createElement("div",{className:t.overview},o.a.createElement("div",{className:t.avroot},o.a.createElement(S.a,{"aria-label":"recipe",className:t.avatar,src:e.profile_pic})),o.a.createElement(N.a,{variant:"caption",component:"p"},"Are you sure ? you want to unfollow ",e.username)),o.a.createElement("div",{className:t.options},o.a.createElement(le.a,{fullWidth:!0,className:t.btn,style:{color:"tomato"},onClick:e.unfollowHandler},"Yes! unfollow"),o.a.createElement(le.a,{fullWidth:!0,onClick:e.close,className:t.btn},"No! take me back"))))},ot=Object(w.a)((function(e){return{root:{padding:"0.5rem",flexWrap:"nowrap"},gridone:{margin:"auto"},gridtwo:{width:"100%",margin:"auto 0.4rem auto 1rem"},btnstyle:{width:"100%",textAlign:"left"},button:{margin:"auto"}}})),rt=Object(m.b)((function(e){return{token:e.auth.token}}))((function(e){var t=ot(),a=Object(n.useState)(e.type),r=Object(k.a)(a,2),c=r[0],i=r[1],l=Object(n.useState)(!1),s=Object(k.a)(l,2),m=s[0],u=s[1],d=function(){u(!1)};return o.a.createElement(ge.a,{container:!0,justify:"center",alignContent:"center",className:t.root},o.a.createElement(ge.a,{item:!0,className:t.gridone},o.a.createElement(S.a,{component:B.b,to:"/".concat(e.first),"aria-label":"recipe",className:t.avatar,src:e.profile_pic})),o.a.createElement(ge.a,{item:!0,className:t.gridtwo},o.a.createElement(be.a,{component:B.b,to:"/".concat(e.first)},e.first),o.a.createElement("br",null),o.a.createElement(N.a,{variant:"caption",color:"textSecondary"},e.second)),o.a.createElement(ge.a,{item:!0,xs:!0}),e.children,"follow"===c||"follower"===c?o.a.createElement("div",{className:t.button},o.a.createElement(le.a,{size:"small",style:{color:"white",backgroundColor:"#009cfde8"},onClick:function(){var t="".concat(oe,"/frequest/send/");te.a.post(t,{receiver:e.first},{headers:{Authorization:"Token ".concat(e.token)}}).then((function(e){console.info(e.data),i("requested")})).catch((function(e){console.log(e)}))}},"Follow")):null,"following"===c?o.a.createElement("div",{className:t.button},o.a.createElement(le.a,{size:"small",style:{color:"#009cfde8",border:"1px solid #009cfde8"},onClick:function(e){e.stopPropagation(),u(!0)}},"Following")):null,"requested"===c?o.a.createElement("div",{className:t.button},o.a.createElement(le.a,{size:"small",style:{color:"tomato",border:"1px solid tomato"},onClick:function(){var t="".concat(oe,"/frequest/cancel/");te.a.post(t,{receiver:e.first},{headers:{Authorization:"Token ".concat(e.token)}}).then((function(e){console.info(e.data),i("follow")})).catch((function(e){console.log(e)}))}},"Cancel")):null,o.a.createElement(nt,{open:m,close:d,username:e.first,profile_pic:e.profile_pic,unfollowHandler:function(){var t="".concat(oe,"/profile/unfollow/");te.a.post(t,{anotherUser:e.first},{headers:{Authorization:"Token ".concat(e.token)}}).then((function(e){console.info(e.data),i("follow"),d()})).catch((function(e){console.log(e)}))}}))})),ct=Object(w.a)((function(e){var t;return{root_root:{"@media (max-width:768px)":{}},root:(t={backgroundColor:"white",marginBottom:"0.8rem",width:"100%"},Object(y.a)(t,e.breakpoints.up("sm"),{marginBottom:"0.8rem"}),Object(y.a)(t,"@media (min-width:604px)",{border:"1px solid #6565653c"}),t),card:{width:"100%",marginBottom:e.spacing(2)},mediask:{height:190,"@media (min-width:768px)":{height:400}},noContent:{position:"fixed",top:"50%",left:"50%",msTransform:"translateX(-50%) translateY(-50%)",webkitTransform:"translate(-50%,-50%)",transform:"translate(-50%,-50%)",textAlign:"center",width:"80%"},adminProfile:{margin:"auto",marginTop:"2rem",border:"1px solid #6565653c",padding:"0.3rem",textAlign:"left",maxWidth:"270px",backgroundColor:"#f3f5f6"}}})),it=Object(m.b)((function(e){return{token:e.auth.token,feeds:e.feeds.feeds}}),(function(e){return{setFeeds:function(t){return e(function(e){return{type:"SET_FEEDS",feeds:e}}(t))},addFeeds:function(t){return e(function(e){return{type:"ADD_FEEDS",feeds:e}}(t))},nerror:function(){return e({type:"CHANGE_NERROR"})}}}))((function(e){var t=ct(),a=Object(ne.a)(),r=Object(ae.a)(a.breakpoints.up("md")),c=Object(n.useState)(!1),i=Object(k.a)(c,2),l=i[0],s=i[1],m=Object(n.useState)(!1),u=Object(k.a)(m,2),d=u[0],p=u[1],f=Object(n.useState)({next_url:null,count:null}),g=Object(k.a)(f,2),b=g[0],E=g[1],v=Object(n.useState)(!1),y=Object(k.a)(v,2),w=y[0],x=y[1],O=Object(n.useState)([]),j=Object(k.a)(O,2),C=j[0],S=j[1],_=Object(n.useState)(1),T=Object(k.a)(_,2),A=T[0],R=T[1],F=Object(n.useState)(!1),z=Object(k.a)(F,2),D=z[0],W=z[1],I=Object(n.useRef)(!0),B=Object(h.g)(),M=Object(n.useRef)();Object(n.useEffect)((function(){A>1&&null!==b.next_url&&!1===I.current&&(W(!0),te.a.get(b.next_url,{headers:{Authorization:"Token ".concat(e.token)}}).then((function(t){e.addFeeds(t.data.results),W(!1),E({next_url:t.data.next_url,count:t.data.count})})).catch((function(e){W(!1)})))}),[A]),Object(n.useEffect)((function(){s(!0);var t="".concat(oe,"/posts/feeds/");te.a.get(t,{headers:{Authorization:"Token ".concat(e.token)}}).then((function(t){204!==t.status?(e.setFeeds(t.data.results),E({next_url:t.data.next_url,count:t.data.count}),I.current=!1):(x(!0),e.setShows(!1)),s(!1),e.setLoading(!1)})).catch((function(t){t.response||e.nerror(),s(!1),e.setLoading(!1)}))}),[]),Object(n.useEffect)((function(){if(!0===w){p(!0);var t="".concat(oe,"/accounts/get-superuser/");te.a.get(t,{headers:{Authorization:"Token ".concat(e.token)}}).then((function(e){S(e.data.results),p(!1)})).catch((function(e){p(!1)}))}}),[w]);var P,L=Object(n.useCallback)((function(e){M.current&&M.current.disconnect(),M.current=new IntersectionObserver((function(e){e[0].isIntersecting&&R((function(e){return e+1}))})),e&&M.current.observe(e)}),[]),H=function(t){var a=Object(Te.a)(e.feeds),n=a.findIndex((function(e){return e.slug===t})),o=a[n].liked;a[n].liked=!o,a[n].liked&&(a[n].likes=a[n].likes+1),!1===a[n].liked&&(a[n].likes=a[n].likes-1),e.setFeeds(a);var r="".concat(oe,"/posts/post/like/");te.a.post(r,{slug:t,liked:o},{headers:{Authorization:"Token ".concat(e.token)}}).then((function(e){})).catch((function(e){}))},U=function(t){var a=Object(Te.a)(e.feeds),n=a.findIndex((function(e){return e.slug===t})),o=a[n].saved;a[n].saved=!o,e.setFeeds(a);var r="".concat(oe,"/posts/save/");te.a.post(r,{slug:t,saved:o},{headers:{Authorization:"Token ".concat(e.token)}}).then((function(e){})).catch((function(e){}))},q=o.a.createElement(je.a,{className:t.card},o.a.createElement(Ae.a,{avatar:o.a.createElement(Z.a,{animation:"wave",variant:"circle",width:40,height:40}),title:o.a.createElement(Z.a,{animation:"wave",height:10,width:"80%",style:{marginBottom:6}}),subheader:o.a.createElement(Z.a,{animation:"wave",height:10,width:"40%"})}),o.a.createElement(Z.a,{animation:"wave",variant:"rect",className:t.mediask}),o.a.createElement(Re.a,null,o.a.createElement(o.a.Fragment,null,o.a.createElement(Z.a,{animation:"wave",height:10,style:{marginBottom:6}}),o.a.createElement(Z.a,{animation:"wave",height:10,width:"80%"}))));return P=r?e.feeds.map((function(a,n){return e.feeds.length===n+1?o.a.createElement("div",{key:a.id,className:t.root,ref:L},o.a.createElement(et,{user:a.user,image:a.image,slug:a.slug,liked:a.liked,saved:a.saved,likes:a.likes,caption:a.caption,comments:a.comments,timestamp:re(a.timestamp),saveBtnHandler:U,likeBtnHandler:H,token:e.token,owner:a.owner})):o.a.createElement("div",{key:a.id,className:t.root},o.a.createElement(et,{user:a.user,image:a.image,slug:a.slug,liked:a.liked,saved:a.saved,likes:a.likes,caption:a.caption,comments:a.comments,timestamp:re(a.timestamp),saveBtnHandler:U,likeBtnHandler:H,token:e.token,owner:a.owner}))})):e.feeds.map((function(a,n){return e.feeds.length===n+1?o.a.createElement(je.a,{key:a.id,className:t.root,ref:L},o.a.createElement(et,{user:a.user,image:a.image,slug:a.slug,liked:a.liked,saved:a.saved,likes:a.likes,caption:a.caption,comments:a.comments,timestamp:re(a.timestamp),saveBtnHandler:U,likeBtnHandler:H,token:e.token,owner:a.owner})):o.a.createElement(je.a,{key:a.id,className:t.root},o.a.createElement(et,{user:a.user,image:a.image,slug:a.slug,liked:a.liked,saved:a.saved,likes:a.likes,caption:a.caption,comments:a.comments,timestamp:re(a.timestamp),saveBtnHandler:U,likeBtnHandler:H,token:e.token,owner:a.owner}))})),o.a.createElement("div",{className:t.root_root},w?o.a.createElement("div",{className:t.noContent},o.a.createElement(N.a,{variant:"h5",style:{fontWeight:"300"}},"Welcome to Instagram"),o.a.createElement(N.a,{variant:"caption",style:{color:"gray"}},"When you follow people, you'll see the photos and videos they post here."),o.a.createElement("br",null),o.a.createElement(le.a,{variant:"outlined",color:"primary",onClick:function(){r?e.setMakeFocus(!0):B.push("/explore")},style:{marginTop:"0.5rem",color:"#0095f6",borderColor:"#0095f6",maxWidth:"120px",width:"80%"}},"Explore +"),o.a.createElement("div",{className:t.adminProfile},o.a.createElement(N.a,{variant:"h6",style:{textAlign:"left",fontWeight:"300",fontSize:"20px",borderBottom:"1px solid #6565653c",paddingLeft:"0.4rem"}},"ADMIN"),d&&o.a.createElement(ze.a,{type:"Rings",width:40,height:40,color:"#9c9c9c",style:{width:"100%",marginTop:"0.4rem",padding:"0.8rem",display:"flex",justifyContent:"center"}}),C.map((function(e){return o.a.createElement(rt,{key:e.id,first:e.username,second:e.full_name,profile_pic:e.profile_pic,type:e.userType})})))):o.a.createElement(o.a.Fragment,null,P,l&&o.a.createElement(o.a.Fragment,null,q,q,q),D&&o.a.createElement(ze.a,{style:{width:"100%",display:"flex",justifyContent:"center"},type:"Oval",color:"#939ea1",height:30,width:30})))})),lt=a(272),st=Object(w.a)((function(e){return{root:{width:"100%",position:"fixed",top:0,left:0,zIndex:100}}})),mt=function(){var e=st();return o.a.createElement("div",{className:e.root},o.a.createElement(lt.a,{color:"secondary",style:{backgroundImage:"linear-gradient(to right, #833ab4, #b123a4, #d3008c, #eb0070, #f90051, #fe2941, #ff412f, #fe5618, #fe711b, #fd8825, #fd9d33, #fcb045)"}}))},ut=Object(w.a)((function(e){return Object(x.a)({root:{width:"100%",height:"100%",backgroundColor:"white",paddingTop:"60px",position:"relative",boxSizing:"border-box"},root2:Object(y.a)({display:"flex",flexWrap:"wrap",justifyContent:"center",flexDirection:"column",width:"100%",maxWidth:"600px",margin:"auto",paddingTop:"10px",boxSizing:"border-box",padding:"0.8rem"},e.breakpoints.up("md"),{maxWidth:"614px"}),cardsStyle:{width:"100%",paddingBottom:"6rem","@media (max-width:768px)":{paddingTop:"1rem"}}})})),dt=Object(m.b)((function(e){return{token:e.auth.token}}))((function(e){var t=ut(),a=Object(n.useState)(!0),r=Object(k.a)(a,2),c=r[0],i=r[1],l=Object(n.useState)(!1),s=Object(k.a)(l,2),m=s[0],u=s[1],d=Object(n.useState)(!0),p=Object(k.a)(d,2),f=p[0],h=p[1];return o.a.createElement("div",{className:t.root},o.a.createElement(ye,{home:!0,makeFocus:m}),o.a.createElement("div",{className:t.root2},c&&o.a.createElement(_e,null),o.a.createElement("div",{className:t.cardsStyle},o.a.createElement(it,{setShows:i,setMakeFocus:u,setLoading:h}))),f&&o.a.createElement(mt,null),o.a.createElement(Oe,null))})),pt=function(){return o.a.createElement(o.a.Fragment,null,o.a.createElement(dt,null))},ft=a(13),ht=a(22),gt=Object(w.a)((function(e){return{root:{border:"1px solid #e2e2e1",overflow:"hidden",borderRadius:4,backgroundColor:"#fcfcfb",transition:e.transitions.create(["border-color","box-shadow"]),"&:hover":{backgroundColor:"#fff"},"&$focused":{backgroundColor:"#fff",boxShadow:"".concat(Object(ht.c)(e.palette.primary.main,.25)," 0 0 0 2px"),borderColor:e.palette.primary.main}},focused:{}}})),bt=Object(w.a)((function(e){return{margin:{width:"80%",margin:"0.5rem 10%"}}}));function Et(e){var t=gt();return o.a.createElement(Xe.a,Object.assign({InputProps:{classes:t,disableUnderline:!0}},e))}var vt=function(e){var t=bt();return o.a.createElement(Et,{required:!0,className:t.margin,variant:"filled",size:"small",label:e.label,name:e.name,value:e.value,onChange:e.onChange,type:e.type})},kt=a(273),yt=Object(w.a)((function(e){return{btnstyle:{width:"80%",margin:"0.8rem 10%"}}})),wt=function(e){var t=yt();return o.a.createElement("form",{onSubmit:e.formHandler},e.children,o.a.createElement(le.a,{type:"submit",variant:"contained",className:t.btnstyle,size:"small",style:{backgroundColor:"#0095f6",color:"white"}},e.submited?o.a.createElement(kt.a,{size:24,className:t.buttonProgress,color:"whitee"}):e.btnName))},xt=a(135),Ot=a.n(xt),jt=a(274),Nt=Object(w.a)({root:{width:"80%",margin:"0.8rem 10%"},divider:{position:"relative",bottom:"4px",color:"#8e8e8e",fontSize:"13px",fontWeight:600}}),Ct=function(){var e=Nt();return o.a.createElement(o.a.Fragment,null,o.a.createElement(ge.a,{container:!0,alignContent:"center",justify:"center",className:e.root},o.a.createElement(ge.a,{item:!0,xs:5},o.a.createElement("hr",null)),o.a.createElement(ge.a,{item:!0,xs:2},o.a.createElement("span",{className:e.divider},"OR")),o.a.createElement(ge.a,{item:!0,xs:5},o.a.createElement("hr",null))))},St=Object(w.a)((function(e){var t;return{root:{minHeight:"100%",paddingBottom:"30px","@media (max-width:768px)":{backgroundColor:"white"}},heading:{padding:"0.8rem"},gridone:(t={width:"100%",backgroundColor:"white",border:"1px solid #c1c1c16f",margin:"0.4rem",textAlign:"center"},Object(y.a)(t,e.breakpoints.down("xs"),{border:"none"}),Object(y.a)(t,"@media (min-width:450px)",{maxWidth:"350px"}),t),gridtwo:{padding:"0.7rem"},errorText:{color:"red",fontSize:"12px"}}})),_t=function(e){var t=St();return o.a.createElement(ge.a,{container:!0,justify:"center",alignContent:"center",direction:"column",className:t.root},o.a.createElement(ge.a,{item:!0,className:t.gridone},o.a.createElement(N.a,{variant:"h3",className:t.heading,id:"instagramtext"},"Instagram"),e.children,o.a.createElement(Ct,null),o.a.createElement(le.a,{variant:"contained",size:"small",style:{width:"80%",margin:"0.8rem 10%",backgroundColor:"#0095f6",color:"white"}},o.a.createElement(Ot.a,null)," ",e.fbbtn),e.login&&o.a.createElement(o.a.Fragment,null,o.a.createElement("br",null),o.a.createElement(N.a,{variant:"overline",align:"center"},o.a.createElement(jt.a,{style:{color:"#009cfde8"},component:B.c,to:"/accounts/password/reset/"},"Forgot password ?")))),o.a.createElement(ge.a,{item:!0,className:"".concat(t.gridone," ").concat(t.gridtwo)},o.a.createElement(N.a,{variant:"overline",align:"center"},e.bottomline,o.a.createElement(jt.a,{style:{color:"#009cfde8"},component:B.c,to:e.url},e.linktext))))},Tt=o.a.forwardRef((function(e,t){return o.a.createElement(ie.a,Object.assign({direction:"up",ref:t},e))})),At=Object(w.a)((function(e){return{root:{maxWidth:"300px",textAlign:"center"},overview:{padding:"0.8rem","& p":{color:"#38383897"}},btn:{borderTop:"1px solid #83838355"}}})),Rt=function(e){var t=At();return o.a.createElement(ce.a,{open:e.open,TransitionComponent:Tt,keepMounted:!0,onClose:e.close,"aria-labelledby":"alert-dialog-slide-title","aria-describedby":"alert-dialog-slide-description"},o.a.createElement("div",{className:t.root},e.children))},Ft=Object(w.a)((function(e){return{overview:{padding:"0.8rem","& p":{color:"#38383897"}},btn:{borderTop:"1px solid #83838355"}}})),zt=Object(m.b)((function(e){return{loading:e.auth.loading,error:e.auth.error}}),(function(e){return{authSuccess:function(t){return e(se(t))}}}))((function(e){var t=Ft(),a=Object(n.useState)({username:"",password:""}),r=Object(k.a)(a,2),c=r[0],i=r[1],l=Object(n.useState)(!1),s=Object(k.a)(l,2),m=s[0],u=s[1],d=Object(n.useState)(!1),p=Object(k.a)(d,2),f=p[0],g=p[1],b=Object(n.useState)({type:"",mssg:""}),E=Object(k.a)(b,2),v=E[0],w=E[1],x=Object(n.useState)(!1),O=Object(k.a)(x,2),j=O[0],C=O[1],S=function(){C(!1)},_=function(e){i(Object(ft.a)(Object(ft.a)({},c),{},Object(y.a)({},e.target.name,e.target.value)))};return!0===m?o.a.createElement(h.a,{to:"/"}):o.a.createElement(_t,{bottomline:"Don't have an account?",linktext:" Sign up",url:"/signup/",fbbtn:"Continue with Facebook",login:!0},o.a.createElement(wt,{btnName:"Login",formHandler:function(t){t.preventDefault(),g(!0);var a="".concat(oe,"/rest-auth/login/");te.a.post(a,c).then((function(t){var a={token:t.data.key,username:t.data.username};localStorage.setItem("user",JSON.stringify(a)),e.authSuccess(a),g(!1),u(!0)})).catch((function(e){e.response.data.non_field_errors?w({mssg:e.response.data.non_field_errors[0],type:e.response.data.non_field_errors[1]}):e.response.data.password?w(e.response.data.password[0]):e.response.data.password1?w(e.response.data.password1[0]):e.response.data.email?w(e.response.data.email[0]):e.response.data.username&&w(e.response.data.username[0]),C(!0),g(!1)}))},submited:f},o.a.createElement(vt,{label:"Username",name:"username",value:c.username,onChange:_,type:"text"}),o.a.createElement(vt,{label:"Password",name:"password",value:c.password,onChange:_,type:"password"})),j&&o.a.createElement(Rt,{open:j,close:S},o.a.createElement("div",{className:t.overview},"wrong_data"===v.type&&o.a.createElement(N.a,{variant:"h6",component:"h6",style:{fontWeight:"500"}},"Incorrect credentials"),o.a.createElement(N.a,{variant:"caption",component:"p"},v.mssg)),o.a.createElement("div",{className:t.options},"wrong_data"===v.type&&o.a.createElement(le.a,{fullWidth:!0,onClick:S,className:t.btn},"Try Again"),"email"===v.type&&o.a.createElement(le.a,{fullWidth:!0,component:B.b,to:"/accounts/verify-email",className:t.btn},"Verify Your Email"))))})),Dt=a(101),Wt=a.n(Dt),It=Object(w.a)((function(e){return{overview:{padding:"0.8rem","& p":{color:"#38383897"}},btn:{borderTop:"1px solid #83838355"}}})),Bt=Object(m.b)((function(e){return{loading:e.auth.loading,error:e.auth.error}}))((function(e){var t=It(),a=Object(n.useState)({email:"",full_name:"",username:"",password1:"",password2:""}),r=Object(k.a)(a,2),c=r[0],i=r[1],l=Object(n.useState)(!1),s=Object(k.a)(l,2),m=s[0],u=s[1],d=Object(n.useState)(!1),p=Object(k.a)(d,2),f=p[0],h=p[1],g=Object(n.useState)(""),b=Object(k.a)(g,2),E=b[0],v=b[1],w=Object(n.useState)(!1),x=Object(k.a)(w,2),O=x[0],j=x[1],C=function(){j(!1)},S=function(e){i(Object(ft.a)(Object(ft.a)({},c),{},Object(y.a)({},e.target.name,e.target.value)))};return o.a.createElement(_t,{bottomline:"HAVE AN ACCOUNT?",linktext:" Log In",url:"/login/",fbbtn:"Log in with Facebook"},o.a.createElement(N.a,null,"Sign up to see photos and videos from your friends."),o.a.createElement(wt,{btnName:"Sign Up",formHandler:function(e){e.preventDefault(),u(!0);var t="".concat(oe,"/rest-auth/registration/");te.a.post(t,c).then((function(e){u(!1),h(!0),j(!0)})).catch((function(e){e.response.data.non_field_errors&&v(e.response.data.non_field_errors[0]),e.response.data.password&&v(e.response.data.password[0]),e.response.data.password1&&v(e.response.data.password1[0]),e.response.data.email&&v(e.response.data.email[0]),e.response.data.username?v(e.response.data.username[0]):v("An error occours. Please try again."),j(!0),u(!1)}))},submited:m},o.a.createElement(vt,{label:"E-mail",name:"email",value:c.email,onChange:S,type:"email"}),o.a.createElement(vt,{label:"Full Name",name:"full_name",value:c.full_name,onChange:S,type:"text"}),o.a.createElement(vt,{label:"Username",name:"username",value:c.username,onChange:S,type:"text"}),o.a.createElement(vt,{label:"Password",name:"password1",value:c.password1,onChange:S,type:"password"}),o.a.createElement(vt,{label:"Confirm Password",name:"password2",value:c.password2,onChange:S,type:"password"})),O&&o.a.createElement(Rt,{open:O,close:C},f?o.a.createElement("div",{style:{paddingTop:"0.8rem",paddingBottom:"0.8rem"}},o.a.createElement(Wt.a,{style:{width:"50px",height:"50px"}}),o.a.createElement(N.a,{variant:"h6",component:"h6",style:{fontWeight:"500",fontSize:"20px"}},"Account Created Successfully"),o.a.createElement(N.a,{variant:"caption",component:"p",style:{paddingLeft:"0.8rem",paddingRight:"0.8rem",color:"tomato"}},"** Please activate your account through the link we send on your provided email address (expires within 15 min).")):o.a.createElement(o.a.Fragment,null,o.a.createElement("div",{className:t.overview},o.a.createElement(N.a,{variant:"caption",component:"p"},E)),o.a.createElement("div",{className:t.options},o.a.createElement(le.a,{fullWidth:!0,onClick:C,className:t.btn},"close")))))})),Mt=a(102),Pt=a.n(Mt),Lt=a(286),Ht=function(e){return o.a.createElement("div",null,o.a.createElement(Lt.a,{open:e.open,onClose:e.close,TransitionComponent:e.transition,message:e.mssg,key:e.transition?e.transition.name:""}))};function Ut(e){return o.a.createElement(ie.a,Object.assign({},e,{direction:"up"}))}var qt=Object(w.a)((function(e){return{root:{width:"100%",height:"100%",display:"flex",justifyContent:"center","@media (max-width:768px)":{backgroundColor:"white"}},container:{width:"100%",alignSelf:"center",position:"relative",padding:"1.4rem",textAlign:"center","@media (min-width:450px)":{maxWidth:"350px",border:"1px solid #c1c1c16f",backgroundColor:"white"}},lockStyle:{width:"70px",height:"70px",border:"4px solid black",borderRadius:"100px",padding:"0.6rem",fontSize:"5px",margin:"0.4rem"},headingStyle:{fontSize:"20px",margin:"0.4rem"},textStyle:{fontSize:"14px",color:"#bababa",fontWeight:"400",margin:"0.4rem"},btnstyle:{width:"80%",margin:"0.4rem"}}})),Yt=function(e){var t=qt(),a=Object(n.useState)(),r=Object(k.a)(a,2),c=r[0],i=r[1],l=Object(n.useState)(!1),s=Object(k.a)(l,2),m=s[0],u=s[1],d=Object(n.useState)(),p=Object(k.a)(d,2),f=p[0],h=p[1],g=Object(n.useState)(void 0),b=Object(k.a)(g,2),E=b[0],v=b[1],y=Object(n.useState)(!1),w=Object(k.a)(y,2),x=w[0],O=w[1],j=function(){v((function(){return Ut})),O(!0)};return o.a.createElement("section",{className:t.root},o.a.createElement("div",{className:t.container},o.a.createElement("div",null,o.a.createElement(Pt.a,{className:t.lockStyle}),o.a.createElement(N.a,{variant:"h5",className:t.headingStyle},"Trouble Logging In?"),o.a.createElement("span",{className:t.textStyle},"Enter your email, phone, or username and we'll send you a link to get back into your account.")),o.a.createElement("form",{onSubmit:function(e){e.preventDefault(),u(!0);var t="".concat(oe,"/rest-auth/password/reset/");te.a.post(t,{email:c}).then((function(e){h("We have sent an email to ".concat(c," with a link to get back your account")),u(!1),j()})).catch((function(e){e.response.data.email?h(e.response.data.email[0]):h("An error occurs."),u(!1),j()}))},style:{marginTop:"1rem"}},o.a.createElement(vt,{label:"Email",name:"email",type:"text",value:c,onChange:function(e){return i(e.target.value)}}),o.a.createElement(le.a,{type:"submit",variant:"contained",className:t.btnstyle,size:"small",style:{backgroundColor:"#0095f6",color:"white"}},m?o.a.createElement(ze.a,{style:{marginTop:"0.5rem",marginBottom:"auto"},type:"Bars",color:"white",height:20,width:20}):"send login link")),o.a.createElement(Ct,null),o.a.createElement("div",{className:""},o.a.createElement(N.a,{variant:"overline",align:"center"},o.a.createElement(jt.a,{style:{color:"#000000",fontWeight:"500"},component:B.c,to:"/signup"},"Create New Account")))),x&&o.a.createElement(Ht,{open:x,close:function(){O(!1)},mssg:f,transition:E}))};function Gt(e){return o.a.createElement(ie.a,Object.assign({},e,{direction:"up"}))}var Jt=Object(w.a)((function(e){return{root:{width:"100%",height:"100%",display:"flex",justifyContent:"center","@media (max-width:768px)":{backgroundColor:"white"}},container:{width:"100%",alignSelf:"center",position:"relative",padding:"1.4rem",textAlign:"center","@media (min-width:450px)":{maxWidth:"350px",border:"1px solid #c1c1c16f",backgroundColor:"white"},"@media (max-width:450px)":{height:"100%"}},content:{width:"100%",height:"100%",position:"realtive",padding:"1.4rem",display:"flex",justifyContent:"center",alignContent:"center",flexWrap:"wrap",paddingTop:"60px"},lockStyle:{width:"70px",height:"70px",border:"4px solid black",borderRadius:"100px",padding:"0.6rem",fontSize:"5px",margin:"0.4rem"},headingStyle:{fontSize:"26px",margin:"0.4rem"},textStyle:{fontSize:"14px",color:"#bababa",fontWeight:"400",margin:"0.4rem"},btnstyle:{width:"80%",margin:"0.4rem"},heading:{position:"absolute",top:0,left:0,width:"100%",borderBottom:"1px solid #6565653c",padding:"0.6rem"}}})),Xt=function(e){var t=Jt(),a={uid:e.match.params.ud,token:e.match.params.tkn,new_password1:"",new_password2:""},r=Object(n.useState)(a),c=Object(k.a)(r,2),i=c[0],l=c[1],s=Object(n.useState)(!1),m=Object(k.a)(s,2),u=m[0],d=m[1],p=Object(n.useState)(""),f=Object(k.a)(p,2),h=f[0],g=f[1],b=Object(n.useState)(void 0),E=Object(k.a)(b,2),v=E[0],w=E[1],x=Object(n.useState)(!1),O=Object(k.a)(x,2),j=O[0],C=O[1],S=function(){w((function(){return Gt})),C(!0)},_=function(e){l(Object(ft.a)(Object(ft.a)({},i),{},Object(y.a)({},e.target.name,e.target.value)))};return o.a.createElement("section",{className:t.root},o.a.createElement("div",{className:t.container},o.a.createElement("div",{className:t.content},o.a.createElement(N.a,{variant:"h4",className:t.heading,id:"instagramtext"},"Instagram"),o.a.createElement(N.a,{variant:"h4",className:t.headingStyle},"Change Password"),o.a.createElement("form",{onSubmit:function(e){e.preventDefault(),d(!0);var t="".concat(oe,"/rest-auth/password/reset/confirm/");te.a.post(t,i).then((function(e){g("Password changed successfully."),S(),d(!1)})).catch((function(e){d(!1),e.response.data.new_password2?g(e.response.data.new_password2[0]):e.response.data.token?g("Link expired."):g("An error occurs."),S()}))}},o.a.createElement(vt,{label:"New Password",name:"new_password1",value:i.new_password1,onChange:_,type:"password"}),o.a.createElement(vt,{label:"Confirm New Password",name:"new_password2",value:i.new_password2,onChange:_,type:"password"}),o.a.createElement(le.a,{type:"submit",variant:"contained",className:t.btnstyle,size:"small",style:{backgroundColor:"#0095f6",color:"white"}},u?o.a.createElement(ze.a,{style:{marginTop:"0.5rem",marginBottom:"auto"},type:"Bars",color:"white",height:20,width:20}):"change password")))),j&&o.a.createElement(Ht,{open:j,close:function(){C(!1)},mssg:h,transition:v}))},Vt=Object(w.a)((function(e){return{root:{width:"100%",height:"100%",display:"flex",justifyContent:"center","@media (max-width:768px)":{backgroundColor:"white"}},container:{width:"100%",alignSelf:"center",position:"relative",padding:"1.4rem",textAlign:"center","@media (min-width:450px)":{maxWidth:"350px",border:"1px solid #c1c1c16f",backgroundColor:"white"}},lockStyle:{width:"70px",height:"70px",border:"4px solid black",borderRadius:"100px",padding:"0.6rem",fontSize:"5px",margin:"0.4rem"},headingStyle:{fontSize:"20px",margin:"0.4rem"},textStyle:{fontSize:"14px",color:"#bababa",fontWeight:"400",margin:"0.4rem"},btnstyle:{width:"80%",margin:"0.4rem"}}}));function Qt(e){return o.a.createElement(ie.a,Object.assign({},e,{direction:"up"}))}var $t=function(e){var t=Vt(),a=Object(n.useState)(!1),r=Object(k.a)(a,2),c=r[0],i=r[1],l=Object(n.useState)(""),s=Object(k.a)(l,2),m=s[0],u=s[1],d=Object(n.useState)(void 0),p=Object(k.a)(d,2),f=p[0],h=p[1],g=Object(n.useState)(!1),b=Object(k.a)(g,2),E=b[0],v=b[1],w=function(){h((function(){return Qt})),v(!0)},x=Object(n.useState)({username:"",password:""}),O=Object(k.a)(x,2),j=O[0],C=O[1],S=function(e){C(Object(ft.a)(Object(ft.a)({},j),{},Object(y.a)({},e.target.name,e.target.value)))};return o.a.createElement("section",{className:t.root},o.a.createElement("div",{className:t.container},o.a.createElement("div",null,o.a.createElement(Pt.a,{className:t.lockStyle}),o.a.createElement(N.a,{variant:"h5",className:t.headingStyle},"Verify Your Account"),o.a.createElement("span",{className:t.textStyle},"Enter your Credentials and then verify your account through the email we send.")),o.a.createElement("form",{onSubmit:function(e){e.preventDefault(),u(""),i(!0);var t="".concat(oe,"/accounts/verify-email/");te.a.post(t,j).then((function(e){i(!1),u(e.data.detail),w()})).catch((function(e){i(!1),e.response.data.non_field_errors?u(e.response.data.non_field_errors[0]):u("An error occur. Please try again."),w()}))},style:{marginTop:"1rem"}},o.a.createElement(vt,{label:"Username",name:"username",value:j.username,onChange:S,type:"text"}),o.a.createElement(vt,{label:"Password",name:"password",value:j.password,onChange:S,type:"password"}),o.a.createElement(le.a,{type:"submit",variant:"contained",className:t.btnstyle,size:"small",style:{backgroundColor:"#0095f6",color:"white"}},c?o.a.createElement(ze.a,{style:{marginTop:"0.5rem",marginBottom:"auto"},type:"Bars",color:"white",height:20,width:20}):"verify account")),o.a.createElement(Ct,null),o.a.createElement("div",{className:""},o.a.createElement(N.a,{variant:"overline",align:"center"},o.a.createElement(jt.a,{style:{color:"#000000",fontWeight:"500"},component:B.c,to:"/signup"},"Create New Account")))),E&&o.a.createElement(Ht,{open:E,close:function(){v(!1)},mssg:m,transition:f}))},Kt=Object(w.a)((function(e){return{root:{width:"100%",height:"100%",display:"flex",justifyContent:"center",boxSizing:"border-box",overflow:"hidden","@media (max-width:768px)":{backgroundColor:"white"}},container:{width:"100%",boxSizing:"border-box",alignSelf:"center",position:"relative",textAlign:"center","@media (min-width:450px)":{maxWidth:"350px",border:"1px solid #c1c1c16f",backgroundColor:"white"},"@media (max-width:450px)":{height:"100%"}},content:{width:"100%",height:"100%",position:"realtive",padding:"1.4rem",display:"flex",justifyContent:"center",alignContent:"center",flexWrap:"wrap",paddingTop:"60px"},btnstyle:{width:"80%",margin:"0.4rem",marginTop:"0.8rem"},heading:{position:"absolute",top:0,left:0,width:"100%",borderBottom:"1px solid #6565653c",padding:"0.6rem"},title:{marginTop:"0.5rem",marginBottom:"0.5rem",fontSize:"18px"},text:{color:"gray"},overview:{padding:"0.8rem","& p":{color:"#38383897"}},btn:{borderTop:"1px solid #83838355"}}})),Zt=function(e){var t=Kt(),a=Object(n.useState)(!1),r=Object(k.a)(a,2),c=r[0],i=r[1],l=Object(n.useState)(!1),s=Object(k.a)(l,2),m=s[0],u=s[1],d=Object(n.useState)(!1),p=Object(k.a)(d,2),f=p[0],h=p[1],g=Object(n.useState)(!1),b=Object(k.a)(g,2),E=b[0],v=b[1];return o.a.createElement("section",{className:t.root},o.a.createElement("div",{className:t.container},o.a.createElement("div",{className:t.content},o.a.createElement(N.a,{variant:"h4",className:t.heading,id:"instagramtext"},"Instagram"),o.a.createElement(N.a,{variant:"h5",className:t.title},"Confirm Your Email"),o.a.createElement(N.a,{variant:"caption",className:t.text},"click on the confirm button if this account is yours, else ignore this mail"),o.a.createElement(le.a,{type:"submit",variant:"contained",className:t.btnstyle,size:"small",onClick:function(t){i(!0),t.preventDefault();var a="".concat(oe,"/rest-auth/registration/verify-email/");te.a.post(a,{key:e.match.params.key}).then((function(e){i(!1),h(!0),v(!0)})).catch((function(e){i(!1),u(!0),v(!0)}))},style:{backgroundColor:"#0095f6",color:"white"}},c?o.a.createElement(ze.a,{style:{marginTop:"0.5rem",marginBottom:"auto"},type:"Bars",color:"white",height:20,width:20}):"Confirm"))),E&&o.a.createElement(Rt,{open:E,close:function(){v(!1)}},f&&o.a.createElement(o.a.Fragment,null,o.a.createElement("div",{style:{paddingTop:"0.8rem",paddingBottom:"0.8rem"}},o.a.createElement(Wt.a,{style:{width:"50px",height:"50px"}}),o.a.createElement(N.a,{variant:"h6",component:"h6",style:{fontWeight:"500",fontSize:"20px",paddingLeft:"0.4rem",paddingRight:"0.4rem"}},"Verification Completed"),o.a.createElement(N.a,{variant:"caption",component:"p",style:{paddingLeft:"0.8rem",paddingRight:"0.8rem"}},"Your account is verified, know you are able to login. Thank you")),o.a.createElement("div",{className:t.options},o.a.createElement(le.a,{fullWidth:!0,component:B.b,to:"/login",className:t.btn},"Login"))),m&&o.a.createElement(o.a.Fragment,null,o.a.createElement("div",{className:t.overview},o.a.createElement(N.a,{variant:"h6",component:"h6",style:{fontWeight:"500"}},"Invalid Link"),o.a.createElement(N.a,{variant:"caption",component:"p"},"Link expires or tampered")),o.a.createElement("div",{className:t.options},o.a.createElement(le.a,{fullWidth:!0,component:B.b,to:"/accounts/verify-email",className:t.btn},"Re-send email")))))},ea=Object(m.b)((function(e){return{token:e.auth.token}}))((function(e){var t,a=Object(n.useState)([]),r=Object(k.a)(a,2),c=r[0],i=r[1],l=Object(ne.a)(),s=Object(ae.a)(l.breakpoints.up("md")),m=c.map((function(e){return o.a.createElement(ve,{key:e.id,profile_pic:e.profile_pic,first:e.username,second:e.full_name})}));return o.a.createElement(o.a.Fragment,null,o.a.createElement(ye,{explore:!0,searchHandler:function(a){var n=a.target.value;if(""!==n){"undefined"!=typeof t&&t.cancel("Operation canceled due to new request."),t=te.a.CancelToken.source();var o="".concat(oe,"/accounts/search/?search=").concat(n);te.a.get(o,{cancelToken:t.token,headers:{Authorization:"Token ".concat(e.token)}}).then((function(e){i(e.data.results)})).catch((function(e){}))}""===n&&i([])},makeFocus:!s}),o.a.createElement("div",{style:{paddingTop:"60px",width:"100%",height:"100%",overflowY:"auto",backgroundColor:"white"}},m),o.a.createElement(Oe,null))})),ta=a(275),aa=Object(w.a)((function(e){return{root:{width:"100%",padding:"0.5rem",flexWrap:"nowrap",display:"flex",textAlign:"left"},gridOne:{marginLeft:"0.4rem",marginRight:"0.8rem",marginTop:"0.2rem"},gridTwo:{width:"100%",fontSize:"14px"},gridThree:{width:"100%",fontSize:"10px",textAlign:"left",color:"gray"},btnstyle:{},unreadStyle:{color:"white",backgroundColor:"black"}}})),na=function(e){var t,a=aa();return"PostLike"===e.type||"PostComment"===e.type||"CommentLike"===e.type?t={pathname:"/p/".concat(e.other.slug),state:{isImagePopup:!0}}:"RequestAccepted"===e.type||"RequestReceived"===e.type?t="/".concat(e.from):(alert("redirect to home page"),t="/"),o.a.createElement(be.a,{component:B.b,to:t,focusRipple:!0,className:a.btnstyle,color:"primary"},o.a.createElement("div",{className:"".concat(a.root," ").concat(e.read?"":a.unreadStyle)},o.a.createElement("div",{className:a.gridOne},o.a.createElement(S.a,{"aria-label":"recipe",className:a.avatar,src:oe+e.profile_pic||"https://encrypted-tbn0.gstatic.com/images?q=tbn%3AANd9GcQGCQcjy5QEnlOWwFPrhV67gtHvqsRcUUwDeg&usqp=CAU"})),o.a.createElement("div",{style:{width:"100%",display:"flex",flexWrap:"wrap",flexDirection:"column",justifyContent:"center"}},o.a.createElement("div",{className:a.gridTwo},o.a.createElement(N.a,{variant:"caption",component:"p"},"RequestReceived"===e.type&&o.a.createElement(o.a.Fragment,null,o.a.createElement(be.a,{component:B.b,to:"/".concat(e.from)},o.a.createElement("b",null," @",e.from," ")),"sends you a following request."),"PostLike"===e.type&&o.a.createElement(o.a.Fragment,null,o.a.createElement("b",null," @",e.from," ")," likes you post."),"PostComment"===e.type&&o.a.createElement(o.a.Fragment,null,o.a.createElement("b",null," @",e.from," ")," comment on your post."),"RequestAccepted"===e.type&&o.a.createElement(o.a.Fragment,null,o.a.createElement("b",null," @",e.from," ")," accepted you friend request."),"CommentLike"===e.type&&o.a.createElement(o.a.Fragment,null,o.a.createElement("b",null," @",e.from," ")," likes the comment of your post  ",e.other.comment,"."))),o.a.createElement("div",{className:a.gridThree},o.a.createElement(N.a,{component:"span",variant:"caption"},function(e){var t=new Date(e),a=new Date;if(a.getFullYear()===t.getFullYear())return a.getMonth()===t.getMonth()?a.getDate()===t.getDate()?a.getHours()===t.getHours()?a.getMinutes()-t.getMinutes()<2?"Just Now":"".concat(a.getMinutes()-t.getMinutes()," MINUTES AGO"):"".concat(a.getHours()-t.getHours()," HOURS AGO"):"".concat(a.getDate()-t.getDate()," DAYS AGO"):"".concat(t.getDate()," ").concat(["January","February","March","April","May","June","July","August","September","October","November","December"][t.getMonth()])}(e.timestamp)))),("PostLike"===e.type||"PostComment"===e.type||"CommentLike"===e.type)&&o.a.createElement("div",{className:a.content_img},o.a.createElement("img",{alt:"sething",src:e.other.post,style:{width:"50px",height:"50px"}}))))},oa=Object(w.a)((function(e){return{root:{backgroundColor:"white",position:"absolute",width:"100%",top:0,left:0,textAlign:"center",borderBottom:"1px solid #80808068",zIndex:"5"},iconone:{padding:"8px",position:"absolute",left:4},text:{margin:"auto",fontWeight:500}}})),ra=function(e){var t=oa(),a=Object(h.g)();return o.a.createElement(O.a,{className:t.root},o.a.createElement(j.a,{className:t.iconone,onClick:function(){return a.goBack()}},o.a.createElement(G.a,null)),o.a.createElement(N.a,{component:"h5",variant:"h6",className:t.text},e.heading),e.children)},ca=Object(w.a)((function(e){return{root:{backgroundColor:"white",position:"fixed",width:"100%",textAlign:"center",top:0,left:0,borderBottom:"1px solid #6565653c",zIndex:"5"},iconone:{padding:"8px",position:"absolute",left:4},text:{margin:"auto",fontWeight:500}}})),ia=function(e){var t=ca(),a=Object(h.g)();return o.a.createElement(O.a,{className:t.root},o.a.createElement(j.a,{className:t.iconone,onClick:function(){return a.goBack()}},o.a.createElement(G.a,null)),o.a.createElement(N.a,{component:"h5",variant:"h6",className:t.text},e.heading),e.children)},la=Object(w.a)((function(e){return{loader:{position:"fixed",top:"50%",left:"50%",transform:"translate(-50%, -50%)"}}})),sa=function(e){var t=la();return o.a.createElement(ze.a,Object.assign({className:t.loader,type:e.type?e.type:"TailSpin",color:"#b4b4b4",height:40,width:40},e))},ma=Object(w.a)((function(e){return{mainContent:{width:"100%",height:"100%",paddingTop:"70px",position:"relative",zIndex:10,backgroundColor:"white"},container1:{width:"100%",display:"flex",flexDirection:"column",flexWrap:"wrap",paddingBottom:"70px"},container2:{display:"flex",boxSizing:"border-box",flexDirection:"column",margin:"0px",padding:"0px",position:"relative",backgroundColor:"white",height:"100%",justifyContent:"flex-start",alignItems:"stretch",alignContent:"stretch",paddingTop:"0.6rem",paddingBottom:"40px",overflowY:"auto","@media (max-width:768px)":{paddingBottom:"100px"}},noContent:{position:"fixed",top:"50%",left:"50%",msTransform:"translateX(-50%) translateY(-50%)",webkitTransform:"translate(-50%,-50%)",transform:"translate(-50%,-50%)",textAlign:"center",width:"80%",fontWeight:"400",fontSize:"14px",color:"#cbcbcb"}}})),ua=Object(m.b)((function(e){return{token:e.auth.token,notifications:e.notifications.notifications}}),(function(e){return{nerror:function(){return e({type:"CHANGE_NERROR"})}}}))((function(e){var t=ma(),a=Object(ne.a)(),r=Object(ae.a)(a.breakpoints.up("md")),c=Object(n.useState)({notifications:[],next_url:null,count:null}),i=Object(k.a)(c,2),l=i[0],s=i[1],m=Object(n.useState)(1),u=Object(k.a)(m,2),d=u[0],p=u[1],f=Object(n.useState)(!1),h=Object(k.a)(f,2),g=h[0],b=h[1],E=Object(n.useState)(!1),v=Object(k.a)(E,2),y=v[0],w=v[1],x=Object(n.useState)(!1),O=Object(k.a)(x,2),j=O[0],C=O[1],S=Object(n.useRef)(!0),_=Object(n.useRef)();Object(n.useEffect)((function(){d>1&&!1===S.current&&(b(!0),te.a.get(l.next_url,{headers:{Authorization:"Token ".concat(e.token)}}).then((function(e){s({notifications:[].concat(Object(Te.a)(l.notifications),Object(Te.a)(e.data.results)),next_url:e.data.next_url,count:e.data.count}),b(!1)})).catch((function(e){b(!1)})))}),[d]),Object(n.useEffect)((function(){C(!0);var t="".concat(oe,"/notifications/");te.a.get(t,{headers:{Authorization:"Token ".concat(e.token)}}).then((function(e){204!==e.status?(s({notifications:e.data.results,next_url:e.data.next_url,count:e.data.count}),S.current=!1,0===e.data.count&&w(!0)):w(!0),C(!1)})).catch((function(t){C(!1),t.response||e.nerror()}))}),[e.token]);var T=Object(n.useCallback)((function(e){_.current&&_.current.disconnect(),_.current=new IntersectionObserver((function(e){e[0].isIntersecting&&(!0===S.current&&(S.current=!1),p((function(e){return e+1})))})),e&&_.current.observe(e)}),[]),A=l.notifications.map((function(e,t){return l.notifications.length===t+3?o.a.createElement(o.a.Fragment,null,o.a.createElement(na,{key:e.id,from:e.from_user,profile_pic:e.fprofile_pic,timestamp:e.timestamp,type:e.ntype,read:e.read,other:e.other}),o.a.createElement("div",{ref:T})):o.a.createElement(na,{key:e.id,from:e.from_user,profile_pic:e.fprofile_pic,timestamp:e.timestamp,type:e.ntype,read:e.read,other:e.other})}));return o.a.createElement("div",{className:t.mainContent},r?o.a.createElement(ra,{heading:"Activity"}):o.a.createElement(ia,{heading:"Activity"}),j?o.a.createElement(o.a.Fragment,null,r?o.a.createElement(sa,null):o.a.createElement(mt,null)):o.a.createElement(o.a.Fragment,null,o.a.createElement(ta.a,{size:"small","aria-label":"small outlined button group",fullWidth:!0,style:{padding:"0.2rem"}},o.a.createElement(le.a,{component:B.b,to:{pathname:"/activity/requests",state:{activity:!0}}},"Request Received"),o.a.createElement(le.a,{component:B.b,to:{pathname:"/activity/requested",state:{activity:!0}}},"Request Made")),y?o.a.createElement(N.a,{variant:"h5",component:"span",className:t.noContent},"No Notification Yet."):o.a.createElement("div",{className:r?t.container2:t.container1},A,g&&o.a.createElement(ze.a,{style:{width:"100%",display:"flex",justifyContent:"center"},type:"TailSpin",color:"#b8b8b8",height:30,width:30}))),o.a.createElement(Oe,null))})),da=Object(w.a)((function(e){return{root:{display:"inline-block",marginBottom:"0.6rem",width:"100%"},avatarstyle:{float:"left",marginTop:"0.8rem",marginLeft:"0.4rem",margin:"auto"},details:{width:"70%",float:"left",marginLeft:"1rem"},large:{width:e.spacing(10),height:e.spacing(10)},btnstyle:{width:"100%",marginTop:"0.4rem","& button":{width:"50%"}},btnone:{color:"green",borderColor:"green"},btntwo:{color:"red",borderColor:"red"},noDisplay:{display:"none"}}})),pa=Object(m.b)((function(e){return{token:e.auth.token}}))((function(e){var t=da(),a=Object(n.useState)(),r=Object(k.a)(a,2),c=r[0],i=r[1],l=o.a.createElement(ta.a,{"aria-label":"outlined secondary button group",className:t.btnstyle},o.a.createElement(le.a,{fullWidth:!0,className:t.btnone,onClick:function(){var t="".concat(oe,"/frequest/accept/");te.a.post(t,{request_sender:e.username},{headers:{Authorization:"Token ".concat(e.token)}}).then((function(e){i(!0)})).catch((function(e){}))}},"Accept"),o.a.createElement(le.a,{fullWidth:!0,className:t.btntwo,onClick:function(t){var a="".concat(oe,"/frequest/decline/");te.a.post(a,{sender:e.username},{headers:{Authorization:"Token ".concat(e.token)}}).then((function(e){i(!0)})).catch((function(e){}))}},"Decline"));return o.a.createElement(o.a.Fragment,null,o.a.createElement("div",{className:"".concat(t.root," ").concat(c&&t.noDisplay)},o.a.createElement("div",{className:t.avatarstyle},o.a.createElement(S.a,{alt:e.full_name,src:e.image,className:t.large})),o.a.createElement("div",{className:t.details},o.a.createElement(N.a,{component:"h6",variant:"h5"},e.username),o.a.createElement(N.a,{variant:"subtitle1",color:"textSecondary"},e.full_name," wants to follow you."),l)))})),fa=Object(w.a)((function(e){return{container:{width:"100%",height:"100%",overflowY:"auto",paddingTop:"70px",padding:"auto 0.6rem",backgroundColor:"white"},noContent:{position:"fixed",top:"50%",left:"50%",msTransform:"translateX(-50%) translateY(-50%)",webkitTransform:"translate(-50%,-50%)",transform:"translate(-50%,-50%)",textAlign:"center",width:"80%",fontWeight:"400",fontSize:"14px",color:"#cbcbcb"}}})),ha=Object(m.b)((function(e){return{token:e.auth.token}}))((function(e){var t=fa(),a=Object(n.useState)([]),r=Object(k.a)(a,2),c=r[0],i=r[1],l=Object(n.useState)(!1),s=Object(k.a)(l,2),m=s[0],u=s[1],d=Object(n.useState)(!1),p=Object(k.a)(d,2),f=p[0],h=p[1];Object(n.useEffect)((function(){h(!0);var t="".concat(oe,"/frequest/received/");te.a.get(t,{headers:{Authorization:"Token ".concat(e.token)}}).then((function(e){0===e.data.results.length?(u(!0),h(!1)):(i(e.data.results),h(!1))})).catch((function(e){h(!1)}))}),[e.token]);var g=c.map((function(e){return o.a.createElement(pa,{image:e.sender_profile_pic,full_name:e.sender_name,username:e.sender_username})}));return o.a.createElement(o.a.Fragment,null,o.a.createElement(ra,{heading:"Pending Request"}),f?o.a.createElement(sa,null):o.a.createElement("div",{className:t.container},m?o.a.createElement(N.a,{variant:"h5",component:"span",className:t.noContent},"No Request"):g))})),ga=Object(w.a)((function(e){return{container:{width:"100%",height:"100%",overflowY:"auto",paddingTop:"70px",backgroundColor:"white"},noContent:{position:"fixed",top:"50%",left:"50%",msTransform:"translateX(-50%) translateY(-50%)",webkitTransform:"translate(-50%,-50%)",transform:"translate(-50%,-50%)",textAlign:"center",width:"80%",fontWeight:"400",fontSize:"14px",color:"#cbcbcb"}}})),ba=Object(m.b)((function(e){return{token:e.auth.token}}))((function(e){var t=ga(),a=Object(n.useState)([]),r=Object(k.a)(a,2),c=r[0],i=r[1],l=Object(n.useState)(!1),s=Object(k.a)(l,2),m=s[0],u=s[1],d=Object(n.useState)(!1),p=Object(k.a)(d,2),f=p[0],h=p[1];Object(n.useEffect)((function(){h(!0);var t="".concat(oe,"/frequest/sended/");te.a.get(t,{headers:{Authorization:"Token ".concat(e.token)}}).then((function(e){0===e.data.results.length?(u(!0),h(!1)):(i(e.data.results),h(!1))})).catch((function(e){h(!1)}))}),[e.token]);var g=c.map((function(e){return o.a.createElement(rt,{profile_pic:e.reveiver_profile_pic,second:e.receiver_name,first:e.receiver_username,type:"requested"})}));return o.a.createElement(o.a.Fragment,null,o.a.createElement(ra,{heading:"Request Made"}),f?o.a.createElement(sa,null):o.a.createElement("div",{className:t.container},m?o.a.createElement(N.a,{variant:"h5",component:"span",className:t.noContent},"No Request"):g))})),Ea=function(){var e=Object(ne.a)();return Object(ae.a)(e.breakpoints.up("md"))?o.a.createElement(h.a,{to:"/"}):o.a.createElement(o.a.Fragment,null,o.a.createElement(h.b,{exact:!0,path:"/activity/requests",component:ha}),o.a.createElement(h.b,{exact:!0,path:"/activity",component:ua}),o.a.createElement(h.b,{exact:!0,path:"/activity/requested",component:ba}))},va=Object(w.a)((function(e){return{btnstyle:{borderRadius:"0px"},btnText:{width:"100%",textAlign:"left",padding:"0.5rem 0.5rem"},activeClass:{fontWeight:900,borderLeft:"5px solid black"}}})),ka=function(){var e=va();return o.a.createElement("div",null,o.a.createElement(le.a,{fullWidth:!0,className:e.btnstyle,component:B.c,to:"/accounts/edit",activeClassName:e.activeClass},o.a.createElement("span",{className:e.btnText},"Edit Profile")),o.a.createElement(le.a,{fullWidth:!0,className:e.btnstyle,component:B.c,to:"/accounts/password/change",activeClassName:e.activeClass},o.a.createElement("span",{className:e.btnText},"Change Password")),o.a.createElement(le.a,{fullWidth:!0,className:e.btnstyle,component:B.c,to:"/accounts/privacy",activeClassName:e.activeClass},o.a.createElement("span",{className:e.btnText}," Privacy and Security")))},ya=a(268),wa=a(282),xa=a(280);function Oa(e){return o.a.createElement(xa.a,Object.assign({elevation:6,variant:"filled"},e))}var ja=Object(w.a)((function(e){return{root:{width:"100%","& > * + *":{marginTop:e.spacing(2)}}}})),Na=function(e){var t=e.handleClose,a=e.open,n=e.type,r=e.message,c=ja();return o.a.createElement("div",{className:c.root},o.a.createElement(Lt.a,{open:a,autoHideDuration:4e3,onClose:t},o.a.createElement(Oa,{onClose:t,severity:n},r)))},Ca=o.a.forwardRef((function(e,t){return o.a.createElement(ie.a,Object.assign({direction:"up",ref:t},e))})),Sa=Object(w.a)((function(e){return{content:{backgroundColor:"#ffffff","& h4":{margin:"1.5rem 1rem"},"& hr":{margin:"0px",padding:"0px",backgroundColor:"#80808060"},"& button":{}},btn1:{color:"#4c88c2"},btn2:{color:"#e45035"},input:{display:"none"}}})),_a=Object(m.b)((function(e){return{token:e.auth.token,loading:e.profile.loading}}),(function(e){return{removeProfilePic:function(t,a,n){return e(function(e,t,a){return function(n){n(fe(!0)),te.a.put("".concat(oe,"/accounts/profile/edit/"),{profile_pic:null,username:e},{headers:{Authorization:"Token ".concat(a)}}).then((function(e){n(fe(!1)),t("success","Profile Picture Removed Successfully.")})).catch((function(e){n(fe(!1)),t("error","An Error Occur.")}))}}(t,a,n))}}}))((function(e){var t=Sa(),a=Object(n.useState)(),r=Object(k.a)(a,2),c=r[0],i=r[1],l=o.a.useState(!1),s=Object(k.a)(l,2),m=s[0],u=s[1],d=Object(n.useState)({}),p=Object(k.a)(d,2),f=p[0],h=p[1],g=function(e,t){u(!0),h({type:e,message:t})};return o.a.createElement("div",null,o.a.createElement(ce.a,{open:e.open,TransitionComponent:Ca,keepMounted:!0,onClose:e.onClose,"aria-labelledby":"alert-dialog-slide-title","aria-describedby":"alert-dialog-slide-description"},o.a.createElement("div",{className:t.content},o.a.createElement(N.a,{variant:"h5",component:"h4",justify:"center"},"Change Profile Photo"),o.a.createElement("div",null,o.a.createElement("hr",null),o.a.createElement("input",{type:"file",accept:"image/png, image/jpeg",name:"image",className:t.input,id:"contained-button-file",onChange:function(t){i(!0);var a=t.target.files[0],n=new FormData;n.append("profile_pic",a,a.name),n.append("username",e.username);var o="".concat(oe,"/accounts/profile/edit/");te.a.put(o,n,{headers:{Authorization:"Token ".concat(e.token)}}).then((function(t){e.onClose(),i(!1),e.changeProfilePic(t.data.profile_pic),g("success","Profile Picture Updated Successfully.")})).catch((function(t){e.onClose(),i(!1),g("error","An Error Occur.")}))}}),o.a.createElement("label",{htmlFor:"contained-button-file"},o.a.createElement(le.a,{fullWidth:!0,className:t.btn1,component:"span"},c?o.a.createElement(ze.a,{type:"TailSpin",color:"#4c88c2",height:25,width:25,style:{display:"flex",justifyContent:"center",width:"100%"}}):"Upload Photo")),o.a.createElement("hr",null),o.a.createElement(le.a,{fullWidth:!0,className:t.btn2,onClick:function(){e.profile_pic?(e.onClose(),e.changeProfilePic(null),e.removeProfilePic(e.username,g,e.token),g("success","Profile Picture Removed Successfully.")):(e.onClose(),g("error","No Profile Picture to Remove."))}},e.loading?o.a.createElement(ze.a,{type:"TailSpin",color:"#e45035",height:25,width:25,style:{display:"flex",justifyContent:"center",width:"100%"}}):"Remove Current Photo"),o.a.createElement("hr",null),o.a.createElement(le.a,{fullWidth:!0,onClick:e.onClose},"Cancel")))),o.a.createElement(Na,{message:f.message,handleClose:function(e,t){"clickaway"!==t&&u(!1)},open:m,type:f.type}))})),Ta=Object(w.a)((function(e){return{root:Object(y.a)({display:"flex",width:"100%",padding:"0.6rem 0rem"},e.breakpoints.up("md"),{marginLeft:"15%"}),text:{margin:"auto 1.2rem","& h5":{fontWeight:"400"},"& button":{color:"#0095f6",fontWeight:600,padding:"0px"}},avatarstyle:{margin:"auto 0px",padding:"0.3rem"}}})),Aa=function(e){var t=Ta(),a=Object(n.useState)(e.profile_pic),r=Object(k.a)(a,2),c=r[0],i=r[1],l=Object(n.useState)(!1),s=Object(k.a)(l,2),m=s[0],u=s[1];return Object(n.useEffect)((function(){i(e.profile_pic)}),[e.profile_pic]),o.a.createElement(o.a.Fragment,null,o.a.createElement("div",{className:t.root},o.a.createElement("div",{className:t.avatarstyle},o.a.createElement(S.a,{alt:"Remy Sharp",src:c,className:t.large})),o.a.createElement("div",{className:t.text},o.a.createElement(N.a,{variant:"h6",component:"h5"},e.name),o.a.createElement(le.a,{color:"secondary",onClick:function(){u(!0)}},"Change Profile Photo"))),m&&o.a.createElement(_a,{open:m,onClose:function(){u(!1)},profile_pic:c,changeProfilePic:i,username:e.name}))},Ra=Object(w.a)((function(e){return{container:{width:"100%"},fieldContent:{marginBottom:"1rem"},fieldlabel:Object(y.a)({fontSize:"14px"},e.breakpoints.up("md"),{textAlign:"right",float:"right",paddingRight:"0.8rem"}),inputfield:{marginBottom:"0.7rem","& .MuiOutlinedInput-input":{padding:"6px"}}}})),Fa=function(e){var t=Ra();return o.a.createElement(ge.a,{container:!0,className:t.fieldContent},o.a.createElement(ge.a,{item:!0,xs:12,md:3,className:t.text},o.a.createElement(N.a,{variant:"subtitle2",className:t.fieldlabel},e.label)),o.a.createElement(ge.a,{item:!0,xs:12,md:8,className:t.field},e.children?e.children:o.a.createElement(o.a.Fragment,null,o.a.createElement(Xe.a,{variant:"outlined",name:e.name,value:e.value||"",onChange:e.onChange,className:t.inputfield,fullWidth:!0,type:e.type||"text",multiline:!!e.bio}),e.detail?o.a.createElement(N.a,{variant:"caption"},e.detail):null)),o.a.createElement(ge.a,{item:!0,xs:!0}))},za=Object(w.a)((function(e){return{root:{width:"100%"},container:{width:"100%"},fieldContent:{marginBottom:"1rem"},fieldlabel:Object(y.a)({},e.breakpoints.up("md"),{textAlign:"right",paddingRight:"0.8rem"}),inputfield:{marginBottom:"0.7rem","& .MuiOutlinedInput-input":{padding:"6px"}},btnstyle:Object(y.a)({minWidth:"86px"},e.breakpoints.up("md"),{marginLeft:"25%"}),fieldtext:Object(y.a)({marginBottom:"0.8rem"},e.breakpoints.up("md"),{marginLeft:"25%",marginRight:"9%"}),wrapper:{margin:e.spacing(1),position:"relative",backgroundColor:"tomato"}}})),Da=Object(m.b)((function(e){return{token:e.auth.token}}),(function(e){return{changeUsername:function(t){return e(function(e){return{type:"CHANGE_USERNAME",username:e}}(t))}}}))((function(e){var t=za(),a=Object(n.useState)(!1),r=Object(k.a)(a,2),c=r[0],i=r[1],l=Object(n.useState)(!1),s=Object(k.a)(l,2),m=s[0],u=s[1],d=o.a.useState(!1),p=Object(k.a)(d,2),f=p[0],h=p[1],g=Object(n.useState)({}),b=Object(k.a)(g,2),E=b[0],v=b[1],w=function(e,t){h(!0),v({type:e,message:t})},x=Object(n.useState)({username:"",full_name:"",email:"",bio:"",website:"",phone_no:"",gender:null}),O=Object(k.a)(x,2),j=O[0],C=O[1],S=Object(n.useState)(null),_=Object(k.a)(S,2),A=_[0],R=_[1],F=function(e){C(Object(ft.a)(Object(ft.a)({},j),{},Object(y.a)({},e.target.name,e.target.value)))};return Object(n.useEffect)((function(){i(!0),te.a.get("".concat(oe,"/accounts/profile/edit/"),{headers:{Authorization:"Token ".concat(e.token)}}).then((function(e){var t=e.data;C({username:t.username,full_name:t.full_name,email:t.email,bio:t.bio,website:t.website,phone_no:t.phone_no,gender:t.gender}),R(t.profile_pic),i(!1)})).catch((function(e){i(!1)}))}),[e.token]),o.a.createElement("div",{style:{width:"100%",height:"100%",overflow:"hidden",boxSizing:"border-box"}},c?o.a.createElement(mt,null):o.a.createElement("div",{className:t.root},o.a.createElement(Aa,{name:j.username,profile_pic:A}),o.a.createElement("div",{className:t.container},o.a.createElement("form",{onSubmit:function(t){t.preventDefault(),u(!0);var a="".concat(oe,"/accounts/profile/edit/");te.a.put(a,j,{headers:{Authorization:"Token ".concat(e.token)}}).then((function(t){u(!1),e.changeUsername(t.data.username),w("success","Profile Updated Successfully.")})).catch((function(e){u(!1),w("error","An Error Occur.")}))}},o.a.createElement(Fa,{label:"Name",name:"full_name",value:j.full_name,onChange:F,detail:"Help people discover your account by using the name you're known by: either your full name, nickname, or business name.\nYou can only change your name twice within 14 days.\n"}),o.a.createElement(Fa,{label:"Username",name:"username",value:j.username,onChange:F,detail:"In most cases, you'll be able to change your username back to jay___khandelwal for another 14 days. Learn More"}),o.a.createElement(Fa,{label:"Website",name:"website",value:j.website,onChange:F}),o.a.createElement(Fa,{label:"Bio",name:"bio",value:j.bio,onChange:F,bio:!0}),o.a.createElement("div",{className:t.fieldtext},o.a.createElement(N.a,{variant:"caption"},o.a.createElement("b",null,"Personal Information"),o.a.createElement("br",null),"Provide your personal information, even if the account is used for a business, a pet or something else. This won't be a part of your public profile")),o.a.createElement(Fa,{label:"Email",name:"email",value:j.email,onChange:F}),o.a.createElement(Fa,{label:"Phone No.",name:"phone_no",value:j.phone_no,onChange:F}),o.a.createElement(Fa,{label:"Gender",name:"gender",value:j.gender,onChange:F},o.a.createElement(ya.a,{variant:"outlined",className:t.formControl,style:{width:"100%"}},o.a.createElement(wa.a,{labelId:"demo-simple-select-outlined-label",id:"demo-simple-select-outlined",value:j.gender||"",onChange:F,name:"gender",autoWidth:!0},o.a.createElement(T.a,{value:1},"Male"),o.a.createElement(T.a,{value:2},"Female"),o.a.createElement(T.a,{value:3},"Other")))),o.a.createElement(le.a,{type:"submit",variant:"contained",className:t.btnstyle,disabled:m,style:{backgroundColor:"#009cfde8",color:"white"}},m?o.a.createElement(ze.a,{width:15,height:15,type:"TailSpin",color:"white"}):"Submit")))),o.a.createElement(Na,{message:E.message,handleClose:function(e,t){"clickaway"!==t&&h(!1)},open:f,type:E.type}))})),Wa=a(276),Ia=Object(w.a)((function(e){return{root:{width:"100%"},privacy:{width:"100%"},content:{width:"100%",display:"flex",position:"relative"},text:{width:"85%",padding:"0.5rem",fontWeight:600},switchStyle:{},heading:{"@media (max-width:768px)":{display:"none"}}}})),Ba=Object(m.b)((function(e){return{token:e.auth.token}}))((function(e){var t=Ia(),a=Object(n.useState)(!1),r=Object(k.a)(a,2),c=r[0],i=r[1];Object(n.useEffect)((function(){var t="".concat(oe,"/accounts/get-set-privacy/");te.a.get(t,{headers:{Authorization:"Token ".concat(e.token)}}).then((function(e){i(e.data.privacy)})).catch((function(e){}))}),[e.token]);return o.a.createElement("div",{className:t.root},o.a.createElement(N.a,{Component:"h4",variant:"h5",style:{padding:"0.5rem"},className:t.heading},"Accounts Privacy"),o.a.createElement("div",{className:t.privacy},o.a.createElement("div",{className:t.content},o.a.createElement(N.a,{className:t.text},"Turn Your Privacy Off."),o.a.createElement(Wa.a,{checked:c,onChange:function(){var t="".concat(oe,"/accounts/get-set-privacy/");te.a.put(t,{privacy:!c},{headers:{Authorization:"Token ".concat(e.token)}}).then((function(e){console.log(e.data),i(!c)})).catch((function(e){console.log(e)}))},className:t.switchStyle,name:"checkedA",inputProps:{"aria-label":"secondary checkbox"}})),o.a.createElement("div",{style:{padding:"0.5rem"}},o.a.createElement(N.a,{variant:"caption",Component:"p",style:{color:"#79797990"}},"When your account is private only your followers are able to see your images."))))})),Ma=Object(w.a)((function(e){return{root:{width:"100%"},container:{width:"100%"},btnstyle:Object(y.a)({minWidth:"86px"},e.breakpoints.up("md"),{marginLeft:"25%"})}})),Pa=Object(m.b)((function(e){return{token:e.auth.token}}))((function(e){var t=Ma(),a=Object(n.useState)(!1),r=Object(k.a)(a,2),c=r[0],i=r[1],l=Object(n.useState)({old_password:"",new_password1:"",new_password2:""}),s=Object(k.a)(l,2),m=s[0],u=s[1],d=function(e){u(Object(ft.a)(Object(ft.a)({},m),{},Object(y.a)({},e.target.name,e.target.value)))};return o.a.createElement("div",{style:{width:"100%",height:"100%",overflow:"hidden",boxSizing:"border-box"}},o.a.createElement("div",{className:t.root},o.a.createElement("div",{className:t.container},o.a.createElement("form",{onSubmit:function(t){t.preventDefault(),i(!0);var a="".concat(oe,"/rest-auth/password/change/");te.a.post(a,{old_password:m.old_password,new_password1:m.new_password1,new_password2:m.new_password2},{headers:{Authorization:"Token ".concat(e.token)}}).then((function(e){i(!1)})).catch((function(e){i(!1)}))}},o.a.createElement(Fa,{label:"Password",name:"old_password",value:m.old_password,onChange:d,type:"password"}),o.a.createElement(Fa,{label:"New Password",name:"new_password1",value:m.new_password1,onChange:d,type:"password"}),o.a.createElement(Fa,{label:"Confirm New Password",name:"new_password2",value:m.new_password2,onChange:d,type:"password"}),o.a.createElement(le.a,{type:"submit",variant:"contained",className:t.btnstyle,disabled:c,style:{backgroundColor:"#009cfde8",color:"white"}},c?o.a.createElement(ze.a,{width:15,height:15,type:"TailSpin",color:"white"}):"Submit")))))})),La=Object(w.a)((function(e){return{root:{width:"100%",boxSizing:"border-box",backgroundColor:"white",paddingTop:"60px",paddingBottom:"60px",zIndex:100,position:"relative","@media (min-width:768px)":{padding:"0.6rem",paddingTop:"70px"}},container:{display:"flex",width:"100%",maxWidth:"935px",minHeight:"80vh",position:"relative","@media (min-width:768px)":{border:"1px solid #6565653c",margin:"auto"}},gridOne:{width:"236px",minWidth:"236px",borderRight:"1px solid #6565653c","@media (max-width:768px)":{display:"none"}},gridTwo:{width:"100%",padding:"1rem",position:"relative"}}})),Ha=Object(h.i)((function(e){var t=La(),a=Object(ne.a)(),n=Object(ae.a)(a.breakpoints.up("md")),r=e.location,c=!!r.pathname.includes("/accounts/edit"),i=!!r.pathname.includes("/accounts/privacy"),l=!!r.pathname.includes("/accounts/password");return o.a.createElement("section",{className:t.root},n?o.a.createElement(ye,null):o.a.createElement(ia,{heading:(i?"Privacy":c&&"Edit Profile")||l&&"Change Password"}),o.a.createElement("div",{className:t.container},n&&o.a.createElement("div",{className:t.gridOne},o.a.createElement(ka,null)),o.a.createElement("div",{className:t.gridTwo},o.a.createElement(h.b,{exact:!0,path:"/accounts/edit",component:Da}),o.a.createElement(h.b,{exact:!0,path:"/accounts/privacy",component:Ba}),o.a.createElement(h.b,{exact:!0,path:"/accounts/password/change",component:Pa}))))})),Ua=function(){return o.a.createElement(Ha,null)},qa=Object(w.a)((function(e){return{root:{width:"100%",height:"100%",paddingTop:"4rem",backgroundColor:"white"},contentStyle:{margin:"0.4rem 1rem"},title:{borderBottom:"1px solid #6565653c",paddingLeft:"6px",color:"gray",textAlign:"center"},btnstyle:{borderRadius:"0px"}}})),Ya=function(e){var t=qa();return o.a.createElement("div",{className:t.contentStyle},o.a.createElement(N.a,{variant:"h6",className:t.title},e.title),e.children)},Ga=Object(m.b)(null,(function(e){return{onLogout:function(){return e(me())}}}))((function(e){var t=qa(),a=Object(n.useState)(!1),r=Object(k.a)(a,2),c=r[0],i=r[1];return o.a.createElement(o.a.Fragment,null,o.a.createElement(ia,{heading:"Settings"}),o.a.createElement("div",{className:t.root},o.a.createElement(Ya,{title:"Accounts"},o.a.createElement(le.a,{fullWidth:!0,className:t.btnstyle,component:B.c,to:"/accounts/edit"},"Edit Profile"),o.a.createElement(le.a,{fullWidth:!0,className:t.btnstyle,component:B.c,to:"/accounts/password/change"},"Change Password"),o.a.createElement(le.a,{fullWidth:!0,className:t.btnstyle,component:B.c,to:"/accounts/privacy"},"Privacy and Security"),o.a.createElement(le.a,{fullWidth:!0,className:t.btnstyle,style:{color:"#f82929"},onClick:function(){i(!0)}},"Logout"))),o.a.createElement(pe,{open:c,close:function(){i(!1)}}))})),Ja=a(76),Xa=Object(w.a)((function(e){return{root:{width:"100%",height:"100%",position:"fixed",left:0,top:0,overflow:"hidden",zIndex:100,"@media (min-width:768px)":{backgroundColor:"rgba(0,0,0,0.4)"}},root2:{width:"100%",height:"100%",maxWidth:"935px",margin:"auto","@media (min-width:768px)":{display:"flex",flexWrap:"wrap",flexDirection:"column",justifyContent:"center",alignContent:"center",overflow:"hidden"}},root3:{backgroundColor:"white","@media (min-width:768px)":{width:"100%",minWidth:"270px",maxWidth:"400px",height:"100%",minHeight:"200px",maxHeight:"400px",position:"relative",borderRadius:"20px",overflow:"hidden"}}}})),Va=Object(h.i)((function(e){var t=Xa(),a=Object(n.useRef)();return Object(n.useEffect)((function(){return Object(Ja.a)(a.current),function(){Object(Ja.b)(a.current)}}),[]),o.a.createElement("section",{className:t.root,ref:a,onClick:function(){return e.history.goBack()}},o.a.createElement("div",{className:t.root2},o.a.createElement("div",{className:t.root3,onClick:function(e){return e.stopPropagation()}},e.children)))})),Qa=Object(w.a)((function(e){return{mainContent:{width:"100%",height:"100%",paddingTop:"70px",position:"relative",zIndex:10,backgroundColor:"white",borderRadius:"30px"},container:{display:"flex",boxSizing:"border-box",flexDirection:"column",margin:"0px",padding:"0px",position:"relative",backgroundColor:"white",height:"100%",justifyContent:"flex-start",alignItems:"stretch",alignContent:"stretch",paddingTop:"0.6rem",paddingBottom:"40px",overflowY:"auto","@media (max-width:768px)":{paddingBottom:"100px"}},noContent:{position:"absolute",top:"50%",left:"50%",msTransform:"translateX(-50%) translateY(-50%)",webkitTransform:"translate(-50%,-50%)",transform:"translate(-50%,-50%)",textAlign:"center",width:"80%",fontWeight:"400",fontSize:"14px",color:"#cbcbcb"}}})),$a=Object(m.b)((function(e){return{token:e.auth.token}}),(function(e){return{nerror:function(){return e({type:"CHANGE_NERROR"})}}}))((function(e){var t=Qa(),a=Object(ne.a)(),r=Object(ae.a)(a.breakpoints.up("md")),c=Object(n.useState)({data:[],next_url:null,count:null}),i=Object(k.a)(c,2),l=i[0],s=i[1],m=Object(n.useState)(1),u=Object(k.a)(m,2),d=u[0],p=u[1],f=Object(n.useState)(!1),h=Object(k.a)(f,2),g=h[0],b=h[1],E=Object(n.useState)(!1),v=Object(k.a)(E,2),y=v[0],w=v[1],x=Object(n.useState)(!1),O=Object(k.a)(x,2),j=O[0],C=O[1],S=Object(n.useRef)(!0),_=Object(n.useRef)();Object(n.useEffect)((function(){d>1&&!1===S.current&&(b(!0),te.a.get(l.next_url,{headers:{Authorization:"Token ".concat(e.token)}}).then((function(e){s({data:[].concat(Object(Te.a)(l.data),Object(Te.a)(e.data.results)),next_url:e.data.next_url,count:e.data.count}),b(!1)})).catch((function(e){b(!1)})))}),[d]),Object(n.useEffect)((function(){var t;C(!0),t=e.followers?"".concat(oe,"/profile/followers/").concat(e.username,"/"):"".concat(oe,"/profile/followings/").concat(e.username,"/"),te.a.get(t,{headers:{Authorization:"Token ".concat(e.token)}}).then((function(e){e.data&&0===e.data.count?w(!0):s({data:e.data.results,next_url:e.data.next_url,count:e.data.count}),C(!1)})).catch((function(t){C(!1),t.response||e.nerror()}))}),[e.token,e.username,e.followers]);var T=Object(n.useCallback)((function(e){_.current&&_.current.disconnect(),_.current=new IntersectionObserver((function(e){e[0].isIntersecting&&(!0===S.current&&(S.current=!1),p((function(e){return e+1})))})),e&&_.current.observe(e)}),[]),A=l.data.map((function(e,t){return l.data.length,o.a.createElement(o.a.Fragment,null,o.a.createElement(rt,{key:e.id,first:e.username,second:e.full_name,profile_pic:e.profile_pic,type:e.userType}),o.a.createElement("div",{ref:T}))})),R=o.a.createElement("div",{className:t.mainContent},r?o.a.createElement(ra,{heading:e.followers?"Follower":"Following"}):o.a.createElement(ia,{heading:e.followers?"Follower":"Following"}),j?o.a.createElement(o.a.Fragment,null,r?o.a.createElement(sa,null):o.a.createElement(mt,null)):o.a.createElement(o.a.Fragment,null,y?o.a.createElement(N.a,{variant:"caption",component:"span",className:t.noContent},"No ",e.followers?"Follower":"Following"):o.a.createElement("div",{className:r?t.container:""},A,g&&o.a.createElement(ze.a,{style:{width:"100%",display:"flex",justifyContent:"center"},type:"TailSpin",color:"#797979",height:30,width:30}))));return o.a.createElement(o.a.Fragment,null,!r&&o.a.createElement(o.a.Fragment,null,R),r&&o.a.createElement(Va,null,o.a.createElement(o.a.Fragment,null,R)))})),Ka=function(e){return o.a.createElement($a,{followers:!0,username:e.match.params.username})},Za=function(e){return o.a.createElement($a,{username:e.match.params.username})},en=function(e){var t=e.match.params.username;return o.a.createElement(h.a,{to:"/".concat(t)})},tn=Object(w.a)((function(e){return{root:{width:"100%",height:"100%",backgroundColor:"white",position:"relative",paddingTop:"60px"},content:{width:"100%",padding:"1rem",display:"flex",alignContent:"center"},content_one:{width:"100%",display:"flex",alignContent:"center","& textarea":{marginBottom:"auto",padding:"0px"},"& div.MuiInputBase-root":{width:"100%",paddingTop:"0px",paddingLeft:"0.6rem",paddingRight:"0.7rem"}},small:{width:e.spacing(4),height:e.spacing(4)}}})),an=Object(m.b)((function(e){return{token:e.auth.token,imageFile:e.profile.uploadedImageFile}}))((function(e){var t=tn(),a=Object(h.g)(),r={username:"",profile_pic:"",post:e.imageFile,caption:""},c=Object(n.useState)(r),i=Object(k.a)(c,2),l=i[0],s=i[1];Object(n.useEffect)((function(){var t="".concat(oe,"/accounts/user-detail/");te.a.get(t,{headers:{Authorization:"Token ".concat(e.token)}}).then((function(e){s((function(t){return Object(ft.a)(Object(ft.a)({},t),{},{profile_pic:e.data.profile_pic,username:e.data.username})}))})).catch((function(e){}))}),[e.token]);var m=null;try{m=window.URL.createObjectURL(e.imageFile)}catch(d){a.push("/")}var u=o.a.createElement("div",{className:t.root},o.a.createElement(ra,{heading:"New Post"},o.a.createElement("div",{style:{position:"absolute",right:4}},o.a.createElement(le.a,{onClick:function(){if(null!==l.post){var t=new FormData;t.append("post",e.imageFile,e.imageFile.name),t.append("caption",l.caption);var n="".concat(oe,"/posts/create/");te.a.post(n,t,{headers:{Authorization:"Token ".concat(e.token)}}).then((function(e){a.push("/")})).catch((function(e){}))}},size:"small",style:{color:"#34a8de"}},o.a.createElement("b",null,"  Share ")))),o.a.createElement("div",{className:t.content},o.a.createElement("div",{className:t.content_one},o.a.createElement(S.a,{alt:"Remtkrp",src:l.profile_pic,className:t.small}),o.a.createElement(C.a,{multiline:!0,value:l.caption,onChange:function(e){s(Object(ft.a)(Object(ft.a)({},l),{},{caption:e.target.value}))},rows:"3",type:"text",placeholder:"Write a caption..."})),o.a.createElement("div",{className:t.content_img},o.a.createElement("img",{alt:"aksdk",src:m,style:{width:"50px",height:"50px"}}))));return o.a.createElement(Va,null,u)})),nn=Object(w.a)((function(e){return{root:{padding:"0.5rem",flexWrap:"nowrap"},gridone:{margin:"auto",padding:"0.6rem"},gridtwo:{width:"100%",paddingLeft:"0.3rem",margin:"auto"},btnstyle:{width:"100%",textAlign:"left"}}})),on=function(e){var t=nn();return o.a.createElement(be.a,{component:B.c,to:"/direct/chat/".concat(e.id),focusRipple:!0,className:t.btnstyle,color:"primary"},o.a.createElement(ge.a,{container:!0,justify:"center",alignContent:"center",className:t.root},o.a.createElement(ge.a,{item:!0,className:t.gridone},o.a.createElement(S.a,{"aria-label":"recipe",className:t.avatar,src:e.profile_pic})),o.a.createElement(ge.a,{item:!0,className:t.gridtwo},o.a.createElement(N.a,{variant:"subtitle1",style:{margin:"auto"}},e.username),o.a.createElement(N.a,{variant:"caption",color:"textSecondary"},e.read?o.a.createElement(o.a.Fragment,null,e.lastmssg," \u2022 ",e.timestamp):o.a.createElement("b",null,e.lastmssg," \u2022 ",e.timestamp))),o.a.createElement(ge.a,{item:!0,xs:!0}),e.unread_mssg_count>0&&o.a.createElement("span",{className:"circle"},e.unread_mssg_count),e.children))},rn=Object(w.a)((function(e){return{gridOne:Object(y.a)({width:"100%"},e.breakpoints.up("md"),{}),grow:{flexGrow:1},directappbar:Object(y.a)({position:"sticky",top:0,left:0,right:0,zIndex:2,backgroundColor:"white",borderBottom:"1px solid #6565653c"},e.breakpoints.down("sm"),{display:"none"}),toolbarHeading:{width:"100%",textAlign:"center"},iconStyle:{position:"absolute",right:4},chatName:{maxHeight:"100%",height:"100%",overflowY:"auto",paddingBottom:"60px","@media (max-width:768px)":{paddingBottom:"57px"}},noDisplay:{"@media (max-width:768px)":{display:"none"}},noContent:{position:"absolute",top:"50%",left:"50%",msTransform:"translateX(-50%) translateY(-50%)",webkitTransform:"translate(-50%,-50%)",transform:"translate(-50%,-50%)",textAlign:"center",width:"80%",fontWeight:"400",fontSize:"14px",color:"#cbcbcb"}}})),cn=o.a.memo(Object(m.b)((function(e){return{token:e.auth.token,directUser:e.direct.directUsers}}),(function(e){return{setDirect:function(t){return e(function(e){return{type:"SET_DIRECT",data:e}}(t))},set2Direct:function(t){return e(function(e){return{type:"SET2_DIRECT",data:e}}(t))},nerror:function(){return e({type:"CHANGE_NERROR"})}}}))((function(e){var t=rn(),a=Object(ne.a)(),r=Object(ae.a)(a.breakpoints.up("md")),c=Object(n.useState)({next_url:null,count:null}),i=Object(k.a)(c,2),l=i[0],s=i[1],m=Object(n.useState)(1),u=Object(k.a)(m,2),d=u[0],p=u[1],f=Object(n.useState)(!1),h=Object(k.a)(f,2),g=h[0],b=h[1],E=Object(n.useState)(!1),v=Object(k.a)(E,2),y=v[0],w=v[1],x=Object(n.useState)(!1),C=Object(k.a)(x,2),S=C[0],_=C[1],T=Object(n.useRef)(!0),A=Object(n.useRef)();Object(n.useEffect)((function(){d>1&&null!==l.next_url&&!1===T.current&&(w(!0),te.a.get(l.next_url,{headers:{Authorization:"Token ".concat(e.token)}}).then((function(t){e.setDirect(t.data.results),w(!1),s({next_url:t.data.next_url,count:t.data.count})})).catch((function(e){w(!1)})))}),[d]),Object(n.useEffect)((function(){b(!0);var t="".concat(oe,"/chat/chatted/user/");te.a.get(t,{headers:{Authorization:"Token ".concat(e.token)}}).then((function(t){204!==t.status?(e.set2Direct(t.data.results),s({next_url:t.data.next_url,count:t.data.count}),T.current=!1):_(!0),b(!1)})).catch((function(t){b(!1),t.response||e.nerror()}))}),[e.token]);var R=Object(n.useCallback)((function(e){A.current&&A.current.disconnect(),A.current=new IntersectionObserver((function(e){e[0].isIntersecting&&p((function(e){return e+1}))})),e&&A.current.observe(e)}),[]),F=e.directUser.map((function(t,a){return e.directUser.length===a+1?o.a.createElement(o.a.Fragment,null,o.a.createElement(on,{key:t.id,username:t.username,profile_pic:t.profile_pic,id:t.roomName,lastmssg:t.lastmssg.content,read:t.lastmssg.read,timestamp:re(t.lastmssg.timestamp),unread_mssg_count:t.unread_mssg_count}),o.a.createElement("div",{ref:R})):o.a.createElement(on,{key:t.id,username:t.username,profile_pic:t.profile_pic,id:t.roomName,lastmssg:t.lastmssg.content,read:t.lastmssg.read,timestamp:re(t.lastmssg.timestamp),unread_mssg_count:t.unread_mssg_count})})),z=o.a.createElement(O.a,{className:t.directappbar},o.a.createElement("div",{className:t.grow}),o.a.createElement(N.a,{component:"h5",variant:"h5",id:"instagramtext",className:t.toolbarHeading},"Direct"),o.a.createElement(j.a,{component:B.b,to:{pathname:"/direct/new",state:{isModal:!0}},className:t.iconStyle},o.a.createElement(X.a,null)));return o.a.createElement(o.a.Fragment,null,!r&&o.a.createElement(ye,{direct:!0}),r&&z,g?o.a.createElement(o.a.Fragment,null,o.a.createElement(mt,null),r&&o.a.createElement(ze.a,{type:"ThreeDots",height:40,width:40,color:"#000000",style:{position:"absolute",top:"10%",left:"50%",transform:"translate(-50%, -50%)"}})):o.a.createElement(o.a.Fragment,null,S?o.a.createElement(N.a,{variant:"h5",component:"span",className:t.noContent},"No Messages"):o.a.createElement("div",null,F,y&&o.a.createElement(ze.a,{style:{width:"100%",display:"flex",justifyContent:"center"},type:"Oval",color:"#939ea1",height:30,width:30}))))}))),ln=Object(w.a)((function(e){return{root:{width:"100%",height:"100%",padding:"20px",boxSizing:"border-box"},root2:{width:"100%",height:"100%",maxWidth:"935px",backgroundColor:"white",display:"flex",flexDirection:"row",alignContent:"stretch",alignItems:"stretch",margin:"auto",border:"1px solid #6565653c"},gridone:{width:"30%",position:"relative",overflowX:"hidden",overflowY:"auto",borderRight:"1px solid #6565653c"},gridtwo:{width:"70%",height:"100%",position:"relative",display:"flex",flexDirection:"column",alignContent:"stretch",alignItems:"stretch"}}})),sn=o.a.memo(Object(m.b)((function(e){return{token:e.auth.token}}))((function(e){var t=ln();return o.a.createElement("div",{className:t.root},o.a.createElement("div",{className:t.root2},o.a.createElement("div",{className:t.gridone},o.a.createElement(cn,null)),o.a.createElement("div",{className:t.gridtwo},e.children)))}))),mn=Object(w.a)((function(e){return{root:Object(y.a)({width:"80%",height:"auto",textAlign:"center",margin:"0",position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)"},e.breakpoints.up("md"),{width:"50%"}),iconstyle:{margin:"1rem auto",width:e.spacing(7),height:e.spacing(7),backgroundColor:"inherit",color:"black",fontSize:"5rem",border:"1px solid black"}}})),un=function(){var e=mn();return o.a.createElement("div",{className:e.root},o.a.createElement(S.a,{className:e.iconstyle},o.a.createElement(He.a,null)),o.a.createElement(N.a,{component:"h5",variant:"h5"},"Your Messages"),o.a.createElement(N.a,{variant:"subtitle1",color:"textSecondary"},"Send private messages to a friend or group."),o.a.createElement(le.a,{component:B.b,to:{pathname:"/direct/new",state:{isModal:!0}},variant:"contained",style:{backgroundColor:"#009cfde8",color:"white",margin:"0.8rem auto"}},"Send Message"))},dn=a(151),pn=Object(w.a)((function(e){return{root:Object(y.a)({backgroundColor:"white",borderBottom:"1px solid #6565653c",borderRadius:"0px"},e.breakpoints.down("sm"),{display:"none"}),grow:{flexGrow:1},avatarStyle:{margin:"auto 0.3rem",backgroundColor:"black"},icontwo:{border:"3px solid gray",color:"gray",padding:"1px"}}})),fn=function(e){var t=pn();return o.a.createElement(O.a,{className:t.root,component:dn.a,elevation:0},e.loading?o.a.createElement(o.a.Fragment,null,o.a.createElement(Z.a,{variant:"circle"},o.a.createElement(S.a,null)),o.a.createElement(Z.a,{width:"50%",style:{margin:"1rem"}},o.a.createElement(N.a,null,"."))):o.a.createElement(o.a.Fragment,null,o.a.createElement("div",{style:{padding:"0.6rem"}},o.a.createElement(S.a,{"aria-label":"altalt",src:e.profile_pic})),o.a.createElement("div",null,o.a.createElement(N.a,{component:"h5",variant:"h6"},e.full_name)),o.a.createElement("div",{className:t.grow}),o.a.createElement(j.a,{className:t.icontwo,onClick:function(){return e.setOpen(!0)}},o.a.createElement(Q.a,null))))},hn=a(104),gn=a.n(hn),bn=Object(w.a)((function(e){return{appBar:Object(y.a)({top:"auto",bottom:1,color:"black",position:"fixed",width:"100%",margin:"auto",backgroundColor:"white"},e.breakpoints.up("md"),{display:"none"}),search:{position:"relative",marginLeft:e.spacing(3),width:"100%",display:"block"},searchbar:{margin:"0.5rem",border:"1px solid #8080808d",borderRadius:"50px",paddingLeft:"0px"},iconstyle:{marginLeft:"auto",color:"#3070bc"},root:{position:"absolute",bottom:0,width:"100%",minHeight:"2rem",height:"auto",padding:"0.8rem 1rem",margin:"3rem auto auto auto",boxSizing:"border-box","@media (max-width:768px)":{display:"none"}},content:{display:"flex",width:"100%",border:"1px solid #8080808d",borderRadius:"50px"},inputInput:{width:"100%",marginTop:"auto",marginBottom:"auto",height:"100%"},formStyle:{display:"flex",width:"100%"}}})),En=function(e){var t=bn(),a=Object(n.useState)(""),r=Object(k.a)(a,2),c=r[0],i=r[1],l=function(t){t.preventDefault(),e.forsubmit(c),i("")},s=o.a.createElement("form",{onSubmit:l,className:t.formStyle},o.a.createElement("div",{className:t.search},o.a.createElement(C.a,{placeholder:"message\u2026",multiline:!1,inputProps:{"aria-label":"search"},onChange:function(e){i(e.target.value)},value:c,className:t.inputInput})),o.a.createElement(j.a,{disabled:""===c,className:t.iconstyle,onClick:l},o.a.createElement(gn.a,null)));return o.a.createElement(o.a.Fragment,null,o.a.createElement("div",{className:t.appBar},o.a.createElement(O.a,{className:t.searchbar},s)),o.a.createElement("div",{component:dn.a,className:t.root},o.a.createElement("div",{className:t.content},s)))},vn=function(){function e(){var t=this;Object(u.a)(this,e),this.callbacks={},this.socketNewMessage=function(e){var a=JSON.parse(e),n=a.command;0!==Object.keys(t.callbacks).length&&("messages"===n&&(t.callbacks.loadingF(),a.messages.data&&a.messages.data.length>0?t.callbacks[n](a.messages.data):t.callbacks[n]([])),"old_messages"===n&&(t.callbacks.setNexLoader(!1),t.callbacks[n](a.messages.data)),"new_message"===n&&t.callbacks[n](a.message))},this.socketRef=null}return Object(d.a)(e,null,[{key:"getInstance",value:function(){return e.instance||(e.instance=new e),e.instance}}]),Object(d.a)(e,[{key:"connect",value:function(e,t){var a=this;this.disconnect2();var n="".concat("ws://13.126.45.221:8000","/ws/chat/").concat(this.roomName,"/?token=").concat(this.token);this.socketRef=new WebSocket(n),this.socketRef.onopen=function(){a.fetchMessages(1)},this.socketRef.onmessage=function(e){a.socketNewMessage(e.data)},this.socketRef.onerror=function(e){},this.socketRef.onclose=function(e){3500===e.code||1e3===e.code||a.connect()}}},{key:"get_key_and_token",value:function(e,t,a){this.roomName=e,this.token=t,this.username=a}},{key:"disconnect",value:function(){null!=this.socketRef&&(this.leaveChatRoom(),this.socketRef.close(3500),this.socketRef=null)}},{key:"disconnect2",value:function(){null!=this.socketRef&&(this.socketRef.close(3500),this.socketRef=null)}},{key:"fetchMessages",value:function(e){1===e?this.callbacks.loadingT():this.callbacks.setNexLoader(!0),this.sendMessage({command:"fetch_messages",username:this.username,roomName:this.roomName,pagination:e})}},{key:"newChatMessage",value:function(e){this.sendMessage({command:"new_message",sender:e.from,message:e.content,roomName:e.roomName})}},{key:"leaveChatRoom",value:function(){this.sendMessage({command:"leave",username:this.username,roomName:this.roomName})}},{key:"addCallbacks",value:function(e,t,a,n,o,r){this.callbacks.new_message=e,this.callbacks.messages=t,this.callbacks.old_messages=a,this.callbacks.loadingT=n,this.callbacks.loadingF=o,this.callbacks.setNexLoader=r}},{key:"sendMessage",value:function(e){try{this.socketRef.send(JSON.stringify(Object(ft.a)({},e)))}catch(t){}}},{key:"state",value:function(){if(null!==this.socketRef)return this.socketRef.readyState}}]),e}();vn.instance=null;var kn=vn.getInstance(),yn=a(136),wn=a.n(yn),xn=o.a.forwardRef((function(e,t){return o.a.createElement(ie.a,Object.assign({direction:"up",ref:t},e))})),On=Object(w.a)((function(e){return{content:{padding:"0.6rem",backgroundColor:"#ffffff","& h4":{margin:"1.5rem 1rem"},"& hr":{margin:"0px",padding:"0px",backgroundColor:"#80808060"},"& button":{}},btn1:{color:"#4c88c2"},btn2:{color:"#e45035"}}})),jn=Object(m.b)((function(e){return{username:e.auth.username,token:e.auth.token}}))((function(e){var t=On(),a=Object(n.useState)(!1),r=Object(k.a)(a,2),c=r[0],i=r[1],l=function(){e.onClose(),i(!1)};return o.a.createElement("div",null,o.a.createElement(ce.a,{open:e.open,TransitionComponent:xn,keepMounted:!0,onClose:e.onClose,"aria-labelledby":"alert-dialog-slide-title","aria-describedby":"alert-dialog-slide-description"},o.a.createElement("div",{className:t.content},o.a.createElement("div",null,o.a.createElement(le.a,{fullWidth:!0,className:t.btn2,onClick:function(){return i(!0)}},"Delete"),o.a.createElement("hr",null),o.a.createElement(le.a,{fullWidth:!0,onClick:e.onClose},"Cancel")))),c&&o.a.createElement(ce.a,{open:c,TransitionComponent:xn,keepMounted:!0,onClose:l,"aria-labelledby":"alert-dialog-slide-title","aria-describedby":"alert-dialog-slide-description"},o.a.createElement("div",{className:t.content},o.a.createElement(N.a,{variant:"h5",component:"h4",justify:"center"},"Do you really want to delete this chat ?"),o.a.createElement("div",null,o.a.createElement("hr",null),o.a.createElement(le.a,{fullWidth:!0,className:t.btn2,onClick:l},"No"),o.a.createElement("hr",null),o.a.createElement(le.a,{fullWidth:!0,className:t.btn2,onClick:function(){var t="".concat(oe,"/chat/delete/").concat(e.id,"/");te.a.delete(t,{headers:{Authorization:"Token ".concat(e.token)}}).then((function(t){l(),e.setDisplay(!1)})).catch((function(e){l()}))}},"Yes")))))})),Nn=Object(w.a)((function(e){return{chat_content:{width:"100%"},messageRoot:{display:"flex",justifyContent:"center",alignContent:"center",height:"100%",overflow:"hidden"},content:{display:"flex",flexDirection:"column-reverse",width:"100%",height:"100%",paddingBottom:"140px",overflowY:"auto","@media (max-width:768px)":{paddingBottom:"70px"}},chatpage:{display:"flex",flexDirection:"column-reverse",padding:"0.4rem",height:"100%",overflowY:"auto"},mssg:{margin:"0.5rem",padding:"0.4rem",paddingBottom:"0px",borderRadius:"10px"},sendmssg:{textAlign:"left",float:"right",marginLeft:"30%",color:"white",backgroundImage:"linear-gradient(to right bottom, #b993d6, #ac99da, #a09edc, #95a2dc, #8ca6db)"},recvmssg:{textAlign:"left",float:"left",marginRight:"30%",color:"white",backgroundImage:"linear-gradient(to right, #4ca1af, #6db1bc, #8bc0ca, #a8d0d7, #c4e0e5)"},chatinfo:{display:"inline-block",float:"right",position:"relative","& span":{},"& svg":{color:"white",fontSize:"12px",position:"relative",top:2,marginLeft:"4px"}},timeStyle:{fontSize:"8px"},noDisplay:{display:"none"}}})),Cn=function(e){var t=Nn(),a=Object(n.useState)(!0),r=Object(k.a)(a,2),c=r[0],i=r[1],l=Object(n.useState)(!1),s=Object(k.a)(l,2),m=s[0],u=s[1];return o.a.createElement(o.a.Fragment,null,o.a.createElement("div",{onDoubleClick:function(){u(!0)},className:"".concat(t.chat_content," ").concat(c?"":t.noDisplay)},e.username===e.sender?o.a.createElement("div",{className:"".concat(t.mssg," ").concat(t.sendmssg)},o.a.createElement(N.a,{variant:"subtitle2",component:"p"},e.content),o.a.createElement("div",{className:t.chatinfo},o.a.createElement(N.a,{variant:"caption",component:"span",className:t.timeStyle},e.timestamp),o.a.createElement(wn.a,null))):o.a.createElement("div",{className:"".concat(t.mssg," ").concat(t.recvmssg)},o.a.createElement(N.a,{variant:"subtitle2",component:"p"},e.content),o.a.createElement(N.a,{variant:"caption",component:"span",className:t.timeStyle},e.timestamp))),o.a.createElement(jn,{open:m,onClose:function(){u(!1)},id:e.id,setDisplay:i,token:e.token}))},Sn=o.a.forwardRef((function(e,t){return o.a.createElement(ie.a,Object.assign({direction:"up",ref:t},e))})),_n=Object(w.a)((function(e){return{content:{backgroundColor:"#ffffff","& h4":{margin:"1.5rem 1rem"},"& hr":{margin:"0px",padding:"0px",backgroundColor:"#80808060"},"& button":{}},btn1:{color:"#4c88c2"},btn2:{color:"#e45035"}}})),Tn=Object(m.b)((function(e){return{username:e.auth.username,token:e.auth.token}}))((function(e){var t=_n(),a=Object(h.g)(),r=Object(n.useState)(!1),c=Object(k.a)(r,2),i=c[0],l=c[1],s=function(){e.onClose(),l(!1)};return o.a.createElement("div",null,o.a.createElement(ce.a,{open:e.open,TransitionComponent:Sn,keepMounted:!0,onClose:e.onClose,"aria-labelledby":"alert-dialog-slide-title","aria-describedby":"alert-dialog-slide-description"},o.a.createElement("div",{className:t.content},o.a.createElement(N.a,{variant:"h5",component:"h4",justify:"center"},"Chat Settings"),o.a.createElement("div",null,o.a.createElement("hr",null),o.a.createElement(le.a,{fullWidth:!0,className:t.btn2,onClick:function(){return l(!0)}},"Delete all messages"),o.a.createElement("hr",null),o.a.createElement(le.a,{fullWidth:!0,onClick:e.onClose},"Cancel")))),i&&o.a.createElement(ce.a,{open:i,TransitionComponent:Sn,keepMounted:!0,onClose:s,"aria-labelledby":"alert-dialog-slide-title","aria-describedby":"alert-dialog-slide-description"},o.a.createElement("div",{className:t.content},o.a.createElement(N.a,{variant:"h5",component:"h4",justify:"center"},"Do you really want to delete all messages ?"),o.a.createElement("div",null,o.a.createElement("hr",null),o.a.createElement(le.a,{fullWidth:!0,className:t.btn2,onClick:s},"No"),o.a.createElement("hr",null),o.a.createElement(le.a,{fullWidth:!0,className:t.btn2,onClick:function(){var t="".concat(oe,"/chat/edit/").concat(e.roomid,"/");te.a.delete(t,{headers:{Authorization:"Token ".concat(e.token)}}).then((function(e){s(),a.push("/direct/inbox")})).catch((function(e){s()}))}},"Yes")))))})),An=Object(m.b)((function(e){return{messages:e.message.messages,loading:e.message.loading,token:e.auth.token,username:e.auth.username}}),(function(e){return{addMessage:function(t){return e({type:"ADD_MESSAGE",message:(a=t).message,sender:a.sender,timestamp:a.timestamp});var a},setMessages:function(t){return e(function(e){return{type:"SET_MESSAGES",messages:e}}(t))},oldMessages:function(t){return e(function(e){return{type:"OLD_MESSAGES",messages:e}}(t))},mloadT:function(){return e({type:"MLOAD_T"})},mloadF:function(){return e({type:"MLOAD_F"})}}}))((function(e){var t=Object(ne.a)(),a=Object(ae.a)(t.breakpoints.up("md")),r=Object(n.useState)({full_name:"",profile_pic:""}),c=Object(k.a)(r,2),i=c[0],l=c[1],s=Object(n.useState)(e.id),m=Object(k.a)(s,2),u=m[0],d=m[1],p=Object(n.useState)(!1),f=Object(k.a)(p,2),h=f[0],g=f[1],b=Object(n.useState)(1),E=Object(k.a)(b,2),v=E[0],y=E[1],w=Object(n.useRef)(!0),x=Object(n.useRef)(null),O=Object(n.useRef)(),j=Object(n.useRef)("1919-12-29T15:18:12.478753"),C=Object(n.useState)(!1),S=Object(k.a)(C,2),_=S[0],T=S[1],A=Object(n.useState)(!1),R=Object(k.a)(A,2),F=R[0],z=R[1];Object(n.useEffect)((function(){d(e.id)}),[e.id]),Object(n.useEffect)((function(){!1===w.current&&1===kn.state()&&kn.fetchMessages(v)}),[v]),Object(n.useEffect)((function(){g(!0);var t="".concat(oe,"/chat/user-info/").concat(u,"/");return te.a.get(t,{headers:{Authorization:"Token ".concat(e.token)}}).then((function(t){w.current=!1,l({full_name:t.data.full_name,profile_pic:t.data.profile_pic}),g(!1),kn.addCallbacks(e.addMessage,e.setMessages,e.oldMessages,e.mloadT,e.mloadF,z),kn.get_key_and_token(u,e.token,e.username),D(),kn.connect()})).catch((function(e){g(!1)})),function(){kn.disconnect(),e.setMessages([])}}),[e.token,u]),Object(n.useEffect)((function(){x.current.scrollIntoView({behaviour:"smooth"})}),[e.messages]);var D=function e(){setTimeout((function(){1!==kn.state()&&e()}),500)},W=Object(n.useCallback)((function(e){O.current&&O.current.disconnect(),O.current=new IntersectionObserver((function(e){e[0].isIntersecting&&y((function(e){return e+1}))})),e&&O.current.observe(e)}),[]),I=function(e){var t=new Date(e),a=t.getMinutes()<10?"0"+t.getMinutes():t.getMinutes();return t.getHours()>12?"".concat(t.getHours()-12,":").concat(a," PM"):"".concat(t.getHours(),":").concat(a," AM")},B=e.messages.map((function(t,a){return o.a.createElement(o.a.Fragment,null,1===a&&o.a.createElement("div",{ref:W}),!function(e,t){var a=new Date(e),n=new Date(t);return a.getFullYear()===n.getFullYear()&&a.getMonth()===n.getMonth()&&a.getDate()===n.getDate()}(t.timestamp,j.current)&&o.a.createElement("div",{style:{width:"100%",padding:"0.4rem",textAlign:"center"}},o.a.createElement(N.a,{variant:"caption"},o.a.createElement("b",null," ",function(e){var t=new Date(e);return"".concat(t.getDate()," ").concat(["January","February","March","April","May","June","July","August","September","October","November","December"][t.getMonth()],", ").concat(t.getFullYear())}(t.timestamp)))),(n=t.timestamp,void(j.current=n)),o.a.createElement(Cn,{key:t.id,id:t.id,content:t.content,timestamp:I(t.timestamp),username:e.username,sender:t.sender,token:e.token}));var n})),M=o.a.createElement(o.a.Fragment,null,o.a.createElement("div",{style:{width:"100%",height:"100%",overflowY:"auto",display:"flex",flexDirection:"column",alignItems:"flex-end",marginBottom:"80px",paddingBottom:"80px",position:"relative",padding:"0.4rem",boxSizing:"border-box"}},F&&o.a.createElement(ze.a,{style:{width:"100%",display:"flex",justifyContent:"center"},type:"Rings",color:"#b3b3b3",height:40,width:40,timeout:1e3}),B,o.a.createElement("div",{ref:x})),o.a.createElement(En,{forsubmit:function(t){if(""!==t){var a={from:e.username,content:t,roomName:u};kn.newChatMessage(a)}}}));return o.a.createElement(o.a.Fragment,null,a?o.a.createElement(o.a.Fragment,null,o.a.createElement(fn,{full_name:i.full_name,profile_pic:i.profile_pic,loading:h,setOpen:T}),M,e.loading&&o.a.createElement(sa,{style:{position:"absolute"}})):o.a.createElement(o.a.Fragment,null,o.a.createElement(ye,{chat:!0,full_name:i.full_name,profile_pic:i.profile_pic,loading:h,setOpen:T}),M,e.loading&&o.a.createElement(sa,null)),_&&o.a.createElement(Tn,{open:_,onClose:function(){T(!1)},roomid:u}))})),Rn=function(e){return o.a.createElement(o.a.Fragment,null,o.a.createElement(An,{id:e.match.params.id}))},Fn=Object(w.a)((function(e){return{root:{width:"100%",height:"100%",position:"relative",paddingTop:"70px",boxSizing:"border-box","@media (max-width:768px)":{paddingBottom:"75px",backgroundColor:"white"}}}})),zn=Object(m.b)((function(e){return{token:e.auth.token}}))(Object(h.i)((function(e){var t=Fn(),a=Object(ne.a)(),r=Object(h.g)(),c=Object(ae.a)(a.breakpoints.up("md")),i=!!e.location.pathname.includes("/direct/chat");return Object(n.useEffect)((function(){e.token||r.push("/login")}),[e.token,r]),c?o.a.createElement("section",{className:t.root},o.a.createElement(ye,null),o.a.createElement(sn,{chat:i},o.a.createElement(h.b,{exact:!0,path:"/direct/inbox",component:un}),o.a.createElement(h.b,{exact:!0,path:"/direct/chat/:id",component:Rn}))):c?void 0:o.a.createElement("section",{className:t.root},o.a.createElement(h.b,{exact:!0,path:"/direct/inbox",component:cn}),o.a.createElement(h.b,{exact:!0,path:"/direct/chat/:id",component:Rn,upmd:!1}))}))),Dn=a(137),Wn=a.n(Dn),In=Object(w.a)((function(e){return{root:Object(y.a)({width:"100%",backgroundColor:"white",borderBottom:"1px solid #8a8a8a73",padding:"0px",position:"absolute",zIndex:3},e.breakpoints.down("sm"),{display:"none"}),grow:{flexGrow:1},avatar:{},icontwo:{}}})),Bn=function(e){var t=In(),a=Object(n.useState)(!1),r=Object(k.a)(a,2),c=r[0],i=r[1];return o.a.createElement(o.a.Fragment,null,o.a.createElement(O.a,{className:t.root,component:dn.a,elevation:0},o.a.createElement("div",{style:{padding:"0.4rem 0.6rem"}},o.a.createElement(S.a,{"aria-label":"recipe",className:t.avatar,src:e.profile_pic})),o.a.createElement(be.a,{component:B.b,to:"/".concat(e.username)},e.username),o.a.createElement("div",{className:t.grow}),e.owner&&o.a.createElement(j.a,{className:t.icontwo},o.a.createElement(Wn.a,{onClick:function(){i(!0)}}))),c&&o.a.createElement(Ke,{open:c,onClose:function(){i(!1)},slug:e.slug,caption:e.caption,setCaption:e.setCaption}))},Mn=Object(w.a)((function(e){return{root:{position:"absolute",bottom:0,width:"100%",minHeight:"2rem",height:"auto",borderTop:"1px solid #8a8a8a73",backgroundColor:"white",margin:"3rem auto auto auto","@media (max-width:768px)":{display:"none"}},commentDiv:{display:"flex",width:"100%",padding:"0.8rem 0.4rem",borderTop:"1px solid #8a8a8a73"},comment:{position:"relative",marginLeft:e.spacing(3),width:"100%",display:"block"},inputInput:{width:"100%",height:"100%",padding:"auto 0.3rem"},savedStyle:{color:"black"},likeBtn:{color:"#ff007e"},iconStyle:{padding:"4px 0.8rem 4px 2px"}}})),Pn=function(e){var t=Mn();return o.a.createElement("div",{component:dn.a,className:t.root},o.a.createElement("div",{className:t.container},o.a.createElement("div",{style:{padding:"0px"}},o.a.createElement(j.a,{disableRipple:!0,onClick:function(){return e.likeBtnHandler()}},e.liked&&o.a.createElement(We.a,{className:t.likeBtn}),!e.liked&&o.a.createElement(q.a,null)),o.a.createElement(j.a,{"aria-label":"share",style:{marginLeft:"auto",float:"right"},onClick:function(){return e.saveBtnHandler()}},e.saved?o.a.createElement(Ge.a,{className:t.savedStyle}):o.a.createElement(qe.a,{className:t.savedStyle}))),o.a.createElement("div",{style:{padding:"4px 16px"}},o.a.createElement(be.a,{component:B.b,to:{pathname:"/p/".concat(e.slug,"/likes"),state:{activity:!0}}},o.a.createElement(N.a,{variant:"caption",component:"span",style:{fontSize:"14px"}},"Liked By ",o.a.createElement("b",null," ",e.likes," ")," People")),o.a.createElement("br",null),o.a.createElement(N.a,{variant:"caption",component:"span",style:{color:"#808080ac",fontSize:"10px",marginTop:"1rem"}},function(e){var t=new Date(e),a=new Date;if(a.getFullYear()===t.getFullYear())return a.getMonth()===t.getMonth()?a.getDate()===t.getDate()?a.getHours()===t.getHours()?a.getMinutes()-t.getMinutes()<2?"Just Now":"".concat(a.getMinutes()-t.getMinutes()," MINUTES AGO"):"".concat(a.getHours()-t.getHours()," HOURS AGO"):"".concat(a.getDate()-t.getDate()," DAYS AGO"):"".concat(t.getDate()," ").concat(["January","February","March","April","May","June","July","August","September","October","November","December"][t.getMonth()])}(e.timestamp))),o.a.createElement("form",{onSubmit:e.handleSubmit,className:t.commentDiv},o.a.createElement("div",{className:t.comment},o.a.createElement(C.a,{placeholder:"Add a comment\u2026",className:t.inputInput,inputProps:{"aria-label":"search"},value:e.comment,onChange:e.commentChangeHandler})),o.a.createElement(le.a,{default:!0,style:{color:"#3088d3"},onClick:e.handleSubmit},"post"))))},Ln=Object(w.a)((function(e){return{commentRoot:{display:"flex",alignContent:"center",width:"100%"},avatar:{padding:"0.6rem"},avtContent:{width:e.spacing(4),height:e.spacing(4)},content:{width:"100%",paddingLeft:"0.3rem",paddingRight:"0.3rem",paddingTop:"0.5rem"},iconStyle:{margin:"auto"},commentSpan:{fontSize:"10px",color:"#717171ac",paddingLeft:"5px",paddingRight:"5px",textTransform:"lowercase"},likeBtn:{color:"#ff007e"},noDisplay:{display:"none"}}})),Hn=function(e){var t=Ln(),a=Object(n.useState)(e.liked),r=Object(k.a)(a,2),c=r[0],i=r[1],l=Object(n.useState)(e.likes),s=Object(k.a)(l,2),m=s[0],u=s[1],d=Object(n.useState)(!0),p=Object(k.a)(d,2),f=p[0],h=p[1];return o.a.createElement("div",{className:"".concat(t.commentRoot," ").concat(f?"":t.noDisplay)},o.a.createElement("div",{className:t.avatar},o.a.createElement(S.a,{className:t.avtContent,"aria-label":"recipe",src:e.profile_pic||"https://encrypted-tbn0.gstatic.com/images?q=tbn%3AANd9GcQGCQcjy5QEnlOWwFPrhV67gtHvqsRcUUwDeg&usqp=CAU"})),o.a.createElement("div",{className:t.content},o.a.createElement("div",null,o.a.createElement(N.a,{variant:"caption"},o.a.createElement(be.a,{component:B.b,to:"/".concat(e.username)},o.a.createElement("b",{style:{marginRight:"0.2rem"}},e.username)),e.comment),o.a.createElement(N.a,null,o.a.createElement("span",{className:t.commentSpan},e.timestamp," "),!e.noLike&&o.a.createElement("span",{className:t.commentSpan},m," likes"),e.can_delete&&o.a.createElement(be.a,{onClick:function(){var t="".concat(oe,"/posts/comment/delete/");te.a.post(t,{id:e.id},{headers:{Authorization:"Token ".concat(e.token)}}).then((function(e){h(!1)})).catch((function(e){}))},className:t.commentSpan},"delete")))),e.noLike?null:o.a.createElement("div",null,o.a.createElement(j.a,{className:t.iconStyle,disableRipple:!0,onClick:function(){return function(){var t="".concat(oe,"/posts/comment/like/");te.a.post(t,{id:e.id,liked:c},{headers:{Authorization:"Token ".concat(e.token)}}).then((function(e){c&&(i(!1),u(m-1)),c||(i(!0),u(m+1))})).catch((function(e){}))}(e.key)}},c&&o.a.createElement(We.a,{className:t.likeBtn}),!c&&o.a.createElement(q.a,null))))},Un=Object(w.a)((function(e){return{root:{display:"flex",height:"100%",paddingTop:"65px",overflow:"hidden"},root2:{width:"100%",height:"100%",overflowY:"auto",position:"relative",overflow:"hidden"},root3:{width:"100%",position:"absolute",paddingBottom:"180px"},forCaption:{paddingTop:"1rem",paddingBottom:"1rem",borderBottom:"1px solid #6565653c",marginBottom:"0.8rem"},noContent:{position:"absolute",top:"40%",left:"50%",msTransform:"translateX(-50%) translateY(-50%)",webkitTransform:"translate(-50%,-50%)",transform:"translate(-50%,-50%)",textAlign:"center",width:"80%",fontWeight:"400",fontSize:"14px",color:"#cbcbcb"}}})),qn=Object(m.b)((function(e){return{token:e.auth.token}}))((function(e){var t=Un(),a=Object(n.useState)({comments:[],next_url:null}),r=Object(k.a)(a,2),c=r[0],i=r[1],l=Object(n.useState)(1),s=Object(k.a)(l,2),m=s[0],u=s[1],d=Object(n.useState)(!1),p=Object(k.a)(d,2),f=p[0],h=p[1],g=Object(n.useState)(!1),b=Object(k.a)(g,2),E=b[0],v=b[1],y=Object(n.useRef)(!0),w=Object(n.useRef)();Object(n.useEffect)((function(){m>1&&!1===y.current&&(h(!0),te.a.get(c.next_url,{headers:{Authorization:"Token ".concat(e.token)}}).then((function(e){i({comments:[].concat(Object(Te.a)(c.comments),Object(Te.a)(e.data.results.comments)),next_url:e.data.next_url}),h(!1)})).catch((function(e){h(!1)})))}),[m]),Object(n.useEffect)((function(){e.comments&&e.comments.length>0?(i({comments:e.comments,next_url:e.next_url}),y.current=!1,E&&v(!1)):v(!0)}),[e]);var x,O=Object(n.useCallback)((function(e){w.current&&w.current.disconnect(),w.current=new IntersectionObserver((function(e){e[0].isIntersecting&&(!0===y.current&&(y.current=!1),u((function(e){return e+1})))})),e&&w.current.observe(e)}),[]);return null!==c.comments&&(x=c.comments.map((function(t,a){return c.comments.length===a+1?o.a.createElement(o.a.Fragment,null,o.a.createElement("div",{ref:O}),o.a.createElement(Hn,{key:t.id,username:t.user.username,profile_pic:t.user.profile_pic,comment:t.comment,liked:t.liked,likes:t.likes,token:e.token,id:t.id,timestamp:re(t.timestamp),can_delete:t.can_delete})):o.a.createElement(Hn,{key:t.id,username:t.user.username,profile_pic:t.user.profile_pic,comment:t.comment,liked:t.liked,likes:t.likes,token:e.token,id:t.id,timestamp:re(t.timestamp),can_delete:t.can_delete})}))),o.a.createElement("div",{className:t.root},o.a.createElement("div",{className:t.root2},o.a.createElement("div",{className:t.forCaption},o.a.createElement(Hn,{noLike:!0,profile_pic:e.profile_pic,username:e.username,comment:e.caption})),E?o.a.createElement(N.a,{variant:"h5",component:"span",className:t.noContent},"no comments"):o.a.createElement("div",{className:t.root3},x,f&&o.a.createElement(ze.a,{style:{width:"100%",display:"flex",justifyContent:"center"},type:"BallTriangle",color:"#43de6c",height:40,width:40}))))})),Yn=Object(w.a)((function(e){return{content:{maxWidth:"100%",overflow:"hidden",margin:"auto",display:"flex",flexWrap:"nowrap",justifyContent:"center",minHeight:"400px",maxHeight:"600px"},imageContent:{display:"block",height:"auto",width:"auto",maxHeight:"100%",maxWidth:"100%",backgroundColor:"white","@media (min-width:768px)":{border:"1px solid #8a8a8a73"}},mainImg:{maxWidth:"100%",maxHeight:"600px",minHeight:"400px",minWidth:"415px",width:"auto",height:"auto",display:"block",objectFit:"contain"},sideContent:{width:"100%",maxWidth:"335px",minWidth:"335px",overflow:"hidden",position:"relative",backgroundColor:"white","@media (max-width:767px)":{display:"none"},"@media (min-width:767px)":{border:"1px solid #8a8a8a73"}}}})),Gn=Object(m.b)((function(e){return{token:e.auth.token}}))((function(e){var t=Yn(),a=Object(n.useState)({id:"",image:null,caption:"",likes:"",liked:!1,saved:!1,slug:"",timestamp:"",comments:[],next_url:null,profile_pic:null,username:"",type:"",owner:!1}),r=Object(k.a)(a,2),c=r[0],i=r[1],l=Object(n.useState)(""),s=Object(k.a)(l,2),m=s[0],u=s[1];Object(n.useEffect)((function(){te.a.get("".concat(oe,"/posts/d/").concat(e.slug),{headers:{Authorization:"Token ".concat(e.token)}}).then((function(e){i({id:e.data.id,image:e.data.image,caption:e.data.caption,likes:e.data.likes,liked:e.data.liked,saved:e.data.saved,slug:e.data.slug,timestamp:e.data.timestamp,comments:e.data.comments.results,next_url:e.data.comments.next_url,profile_pic:e.data.user.profile_pic,username:e.data.user.username,type:e.data.userType,owner:e.data.owner})})).catch((function(e){}))}),[e.slug,e.token]);return o.a.createElement(ge.a,{container:!0,className:t.content},o.a.createElement("div",{className:t.imageContent},o.a.createElement("img",{className:t.mainImg,src:c.image,alt:"fjfjj"})),o.a.createElement("div",{className:t.sideContent},o.a.createElement(Bn,{profile_pic:c.profile_pic,username:c.username,type:c.type,token:e.token,owner:c.owner,caption:c.caption,slug:c.slug,setCaption:function(e){i(Object(ft.a)(Object(ft.a)({},c),{},{caption:e}))}}),o.a.createElement(qn,{comments:c.comments,caption:c.caption,username:c.username,profile_pic:c.profile_pic,slug:e.slug,next_url:c.next_url,token:e.token}),o.a.createElement(Pn,{likes:c.likes,liked:c.liked,saved:c.saved,likeBtnHandler:function(){var t,a=c.liked;c.liked&&(t=c.likes-1),c.liked||(t=c.likes+1);var n="".concat(oe,"/posts/post/like/");te.a.post(n,{slug:c.slug,liked:a},{headers:{Authorization:"Token ".concat(e.token)}}).then((function(e){i(Object(ft.a)(Object(ft.a)({},c),{},{liked:!a,likes:t}))})).catch((function(e){}))},saveBtnHandler:function(){var t=c.saved;i(Object(ft.a)(Object(ft.a)({},c),{},{saved:!t}));var a="".concat(oe,"/posts/save/");te.a.post(a,{slug:c.slug,saved:t},{headers:{Authorization:"Token ".concat(e.token)}}).then((function(e){})).catch((function(e){}))},handleSubmit:function(t){t.preventDefault(),u("");var a="".concat(oe,"/posts/post/comment/");te.a.post(a,{slug:e.slug,comment:m},{headers:{Authorization:"Token ".concat(e.token)}}).then((function(e){i(Object(ft.a)(Object(ft.a)({},c),{},{comments:[e.data].concat(Object(Te.a)(c.comments))}))})).catch((function(e){}))},commentChangeHandler:function(e){u(e.target.value)},comment:m,slug:e.slug,timestamp:c.timestamp})))})),Jn=Object(w.a)((function(e){return{root:{width:"100%",height:"100%",minHeight:"100%",backgroundColor:"white"},root2:{width:"100%",height:"100%",maxWidth:"935px",margin:"auto"},root3:{width:"100%","@media (min-width:768px)":{padding:"20px",paddingTop:"90px"}},container:{width:"100%",position:"relative"}}})),Xn=function(e){var t=Jn();return o.a.createElement("section",{className:t.root},o.a.createElement(ye,null),o.a.createElement("div",{className:t.root2},o.a.createElement("div",{className:t.root3},o.a.createElement("div",{className:t.container},o.a.createElement(Gn,{slug:e.slug})))))},Vn=Object(w.a)((function(e){return{root:{width:"100%",height:"100%",position:"fixed",left:0,top:0,zIndex:400,backgroundColor:"rgba(0,0,0, 0.4)",minHeight:"100%",overflowY:"auto"},root2:{width:"100%",height:"100%",maxWidth:"935px",margin:"auto",display:"flex",flexWrap:"wrap",flexDirection:"column",justifyContent:"center",alignContent:"center"},root3:{width:"100%","@media (min-width:768px)":{padding:"25px",paddingTop:"70px"}},container:{width:"100%",height:"100%",position:"relative",display:"flex",alignContent:"center"}}})),Qn=Object(h.i)((function(e){var t=Vn(),a=Object(n.useRef)();return Object(n.useEffect)((function(){return Object(Ja.a)(a.current),function(){Object(Ja.b)(a.current)}}),[]),o.a.createElement("section",{className:t.root,ref:a,onClick:function(){return e.history.goBack()}},o.a.createElement("div",{className:t.root2},o.a.createElement("div",{className:t.root3},o.a.createElement("div",{className:t.container,onClick:function(e){return e.stopPropagation()}},o.a.createElement(Gn,{slug:e.match.params.slug})))))})),$n=Object(w.a)((function(e){var t;return{root:(t={borderRadius:"0px",backgroundColor:"white",width:"100%"},Object(y.a)(t,e.breakpoints.up("sm"),{marginBottom:"0.8rem"}),Object(y.a)(t,"@media (min-width:604px)",{border:"1px solid #6565653c"}),t),media:{height:0,paddingTop:"56.25%","& img":{width:"100%",height:"auto"}},imageField:{width:"auto",maxWidth:"100%",overflow:"hidden",height:"auto","& img":{maxWidth:"100%",height:"100%",width:"100%",display:"block",objectFit:"contain","@media (min-width:600px)":{maxHeight:"600px"}}},avatar:{width:e.spacing(4),height:e.spacing(4)},likeBtn:{color:"#ff007e"},card:{width:"100%",marginBottom:e.spacing(2)},mediask:{height:190,"@media (min-width:768px)":{height:400}},savedStyle:{color:"black"},iconStyle:{padding:"4px 0.8rem 4px 2px"}}})),Kn=Object(m.b)((function(e){return{token:e.auth.token}}))((function(e){var t=$n(),a=Object(n.useState)({}),r=Object(k.a)(a,2),c=r[0],i=r[1],l=Object(n.useState)(!1),s=Object(k.a)(l,2),m=s[0],u=s[1],d=Object(n.useState)(!1),p=Object(k.a)(d,2),f=p[0],h=p[1];Object(n.useEffect)((function(){h(!0),te.a.get("".concat(oe,"/posts/").concat(e.slug),{headers:{Authorization:"Token ".concat(e.token)}}).then((function(e){i(e.data),i({id:e.data.id,image:e.data.image,caption:e.data.caption,likes:e.data.likes,liked:e.data.liked,saved:e.data.saved,slug:e.data.slug,timestamp:e.data.timestamp,comments:e.data.comments,profile_pic:e.data.user.profile_pic,username:e.data.user.username,owner:e.data.owner}),h(!1)})).catch((function(e){h(!1)}))}),[e.slug,e.token]);var g=o.a.createElement(je.a,{className:t.card},o.a.createElement(Ae.a,{avatar:o.a.createElement(Z.a,{animation:"wave",variant:"circle",width:40,height:40}),title:o.a.createElement(Z.a,{animation:"wave",height:10,width:"80%",style:{marginBottom:6}}),subheader:o.a.createElement(Z.a,{animation:"wave",height:10,width:"40%"})}),o.a.createElement(Z.a,{animation:"wave",variant:"rect",className:t.mediask}),o.a.createElement(Re.a,null,o.a.createElement(o.a.Fragment,null,o.a.createElement(Z.a,{animation:"wave",height:10,style:{marginBottom:6}}),o.a.createElement(Z.a,{animation:"wave",height:10,width:"80%"}))));return o.a.createElement(o.a.Fragment,null,f?o.a.createElement(o.a.Fragment,null,o.a.createElement(mt,null),g):o.a.createElement("div",{className:t.root},o.a.createElement(Ae.a,{className:t.cardHeader,avatar:o.a.createElement(S.a,{"aria-label":"recipe",className:t.avatar,src:c.profile_pic}),action:c.owner&&o.a.createElement(j.a,{"aria-label":"settings",onClick:function(){u(!0)}},o.a.createElement(Pe.a,null)),title:o.a.createElement(be.a,{component:B.b,to:"/".concat(c.username)},c.username)}),o.a.createElement("div",{onDoubleClick:function(){if(!c.liked){var t="".concat(oe,"/posts/post/like/");te.a.post(t,{slug:e.slug,liked:c.liked},{headers:{Authorization:"Token ".concat(e.token)}}).then((function(e){c.liked||i(Object(ft.a)(Object(ft.a)({},c),{},{liked:!0,likes:c.likes+1}))})).catch((function(e){}))}},className:t.imageField},o.a.createElement("img",{src:c.image,alt:"irrifi"})),o.a.createElement("div",{style:{padding:"8px 12px",width:"100%"}},o.a.createElement(j.a,{className:t.iconStyle,disableRipple:!0,onClick:function(){return function(t){var a,n=c.liked;c.liked&&(a=c.likes-1),c.liked||(a=c.likes+1);var o="".concat(oe,"/posts/post/like/");te.a.post(o,{slug:t,liked:n},{headers:{Authorization:"Token ".concat(e.token)}}).then((function(e){i(Object(ft.a)(Object(ft.a)({},c),{},{liked:!n,likes:a}))})).catch((function(e){}))}(c.slug)}},c.liked&&o.a.createElement(We.a,{className:t.likeBtn}),!c.liked&&o.a.createElement(q.a,null)),o.a.createElement(j.a,{className:t.iconStyle,"aria-label":"comment",component:B.b,to:{pathname:"/p/".concat(c.slug,"/comments"),state:{activity:!0}}},o.a.createElement(Be.a,null)),o.a.createElement(j.a,{className:t.iconStyle,"aria-label":"share"},o.a.createElement(He.a,null)),o.a.createElement(j.a,{className:t.iconStyle,"aria-label":"share",style:{marginLeft:"auto",float:"right"},onClick:function(){return function(t){var a=c.saved;i(Object(ft.a)(Object(ft.a)({},c),{},{saved:!a}));var n="".concat(oe,"/posts/save/");te.a.post(n,{slug:t,saved:a},{headers:{Authorization:"Token ".concat(e.token)}}).then((function(e){})).catch((function(e){}))}(c.slug)}},c.saved?o.a.createElement(Ge.a,{className:t.savedStyle}):o.a.createElement(qe.a,{className:t.savedStyle}))),o.a.createElement("div",{style:{padding:"4px 16px"}},o.a.createElement(be.a,{component:B.b,to:{pathname:"/p/".concat(c.slug,"/likes"),state:{activity:!0}}},o.a.createElement(N.a,{variant:"caption",component:"span",style:{fontSize:"14px"}},"Liked By ",o.a.createElement("b",null," ",c.likes," ")," People")),o.a.createElement("br",null),""!==c.caption&&o.a.createElement(N.a,{variant:"caption",component:"p",style:{color:"#000000",fontSize:"14px"}},o.a.createElement("b",null,c.username)," ",c.caption),o.a.createElement(be.a,{component:B.b,to:{pathname:"/p/".concat(c.slug,"/comments"),state:{activity:!0}},style:{color:"#808080ac",marginBottom:"1rem"}},o.a.createElement(N.a,{variant:"subtitle2",component:"span"},"View all ",c.comments," comments")),o.a.createElement("br",null),o.a.createElement(N.a,{variant:"caption",component:"span",style:{color:"#808080ac",fontSize:"10px",marginTop:"1rem"}},function(e){var t=new Date(e),a=new Date;if(a.getFullYear()===t.getFullYear())return a.getMonth()===t.getMonth()?a.getDate()===t.getDate()?a.getHours()===t.getHours()?a.getMinutes()-t.getMinutes()<2?"Just Now":"".concat(a.getMinutes()-t.getMinutes()," MINUTES AGO"):"".concat(a.getHours()-t.getHours()," HOURS AGO"):"".concat(a.getDate()-t.getDate()," DAYS AGO"):"".concat(t.getDate()," ").concat(["January","February","March","April","May","June","July","August","September","October","November","December"][t.getMonth()])}(c.timestamp))),o.a.createElement(Ke,{open:m,onClose:function(){u(!1)},slug:e.slug,caption:c.caption,setCaption:function(e){i(Object(ft.a)(Object(ft.a)({},c),{},{caption:e}))}})))})),Zn=Object(w.a)((function(e){return{root:{width:"100%",height:"100%",paddingTop:"57px",backgroundColor:"white",overflowX:"hidden",overflowY:"auto"},root2:{width:"100%",display:"flex",flexWrap:"wrap",justifyContent:"center",paddingBottom:"100px"},root3:{width:"100%",maxWidth:"600px"}}})),eo=function(e){var t=Zn();return o.a.createElement("div",{className:t.root},o.a.createElement(ia,{heading:"Photo"}),o.a.createElement("div",{className:t.root2},o.a.createElement("div",{className:t.root3},o.a.createElement(Kn,{slug:e.slug}))),o.a.createElement(Oe,null))},to=function(e){var t=Object(ne.a)(),a=Object(ae.a)(t.breakpoints.up("md")),n=e.match.params.slug;return o.a.createElement(o.a.Fragment,null,a?o.a.createElement(Xn,{slug:n}):o.a.createElement(eo,{slug:n}))},ao=function(e){return o.a.createElement(Va,{isModal:e.isActivity},o.a.createElement(ua,null))},no=a(138),oo=a.n(no),ro=a(139),co=a.n(ro),io=a(140),lo=a.n(io),so=a(141),mo=a.n(so),uo=a(143),po=a.n(uo),fo=a(142),ho=a.n(fo),go=Object(w.a)((function(e){return{btnContainer:{borderTop:"1px solid #6565653c",borderBottom:"1px solid #6565653c"},detailbtn:{width:"33.33%",padding:"0.4rem 0.7rem","& span":{display:"block",textAlign:"center"}}}})),bo=function(e){var t=go();return o.a.createElement("div",{className:t.btnContainer},o.a.createElement(le.a,{className:t.detailbtn,disabled:e.disable},o.a.createElement("span",null," ",e.posts),o.a.createElement("span",{style:{color:"#484e4f8c"}},"Posts ")),o.a.createElement(le.a,{className:t.detailbtn,component:B.b,to:"/".concat(e.username,"/followers"),disabled:e.disable},o.a.createElement("span",null," ",e.followers),o.a.createElement("span",{style:{color:"#484e4f8c"}},"Followers ")),o.a.createElement(le.a,{className:t.detailbtn,component:B.b,to:"/".concat(e.username,"/followings"),disabled:e.disable},o.a.createElement("span",null," ",e.followings),o.a.createElement("span",{style:{color:"#484e4f8c"}},"Followings ")))},Eo=Object(w.a)((function(e){return{image:{flex:"calc(33.33% - 2px)",maxWidth:"calc(33.33% - 2px)",overflow:"hidden",cursor:"pointer",paddingTop:"calc(33.333% - 2px)",position:"relative",marginBottom:"3px",marginRight:"3px","@media (min-width: 768px)":{marginBottom:"25.5px",marginRight:"25.5px",flex:"calc(33.33% - 17px)",maxWidth:"calc(33.33% - 17px)",paddingTop:"calc(33.333% - 17px)"}},imge:{width:"100%",height:"100%",objectFit:"cover",left:0,top:0,position:"absolute"}}})),vo=function(e){var t=Eo();return o.a.createElement(be.a,{focusRipple:!0,className:"".concat(t.image," kskdk"),component:B.b,to:{pathname:"/p/".concat(e.slug),state:{imagePopup:!0}}},o.a.createElement("img",{className:t.imge,src:e.image,alt:"nddnfm"}))},ko=Object(w.a)((function(e){return{gallery:{display:"flex",flexWrap:"wrap",justifyContent:"flex-start",position:"relative",margin:"0px"}}})),yo=Object(m.b)((function(e){return{token:e.auth.token}}))((function(e){var t=ko(),a=Object(n.useState)({posts:[],next_url:null,count:null}),r=Object(k.a)(a,2),c=r[0],i=r[1],l=Object(n.useState)(1),s=Object(k.a)(l,2),m=s[0],u=s[1],d=Object(n.useState)(!1),p=Object(k.a)(d,2),f=p[0],h=p[1],g=Object(n.useState)(!1),b=Object(k.a)(g,2),E=b[0],v=b[1],y=Object(n.useRef)(!0),w=Object(n.useRef)(),x=e.match.params.username;Object(n.useEffect)((function(){m>1&&null!==c.next_url&&!1===y.current&&(v(!0),te.a.get(c.next_url,{headers:{Authorization:"Token ".concat(e.token)}}).then((function(e){i({posts:[].concat(Object(Te.a)(c.posts),Object(Te.a)(e.data.results)),next_url:e.data.next_url,count:e.data.count}),v(!1)})).catch((function(e){v(!1)})))}),[m]),Object(n.useEffect)((function(){h(!0),te.a.get("".concat(oe,"/posts/list/").concat(x,"/"),{headers:{Authorization:"Token ".concat(e.token)}}).then((function(e){i({posts:e.data.results,next_url:e.data.next_url,count:e.data.count}),h(!1),y.current=!1})).catch((function(e){h(!1)}))}),[e.token,x]);var O=Object(n.useCallback)((function(e){w.current&&w.current.disconnect(),w.current=new IntersectionObserver((function(e){e[0].isIntersecting&&u((function(e){return e+1}))})),e&&w.current.observe(e)}),[]),j=c.posts.map((function(e,t){return c.posts.length===t+1?o.a.createElement(o.a.Fragment,null,o.a.createElement(vo,{key:e.id,image:e.image,slug:e.slug}),o.a.createElement("div",{ref:O})):o.a.createElement(vo,{key:e.id,image:e.image,slug:e.slug})}));return o.a.createElement("div",{className:t.gallery},f&&o.a.createElement(ze.a,{type:"Rings",width:40,height:40,color:"#9c9c9c",style:{width:"100%",marginTop:"0.4rem",display:"flex",justifyContent:"center"}}),j,E&&o.a.createElement(ze.a,{style:{width:"100%",display:"flex",justifyContent:"center"},type:"Oval",color:"#939ea1",height:30,width:30}))})),wo=Object(w.a)((function(e){var t;return{main:{width:"100%",height:"100%",backgroundColor:"white",position:"relative",boxSizing:"border-box"},root2:Object(y.a)({display:"flex",flexWrap:"wrap",justifyContent:"center",flexDirection:"column",width:"100%",maxWidth:"600px",margin:"auto",paddingTop:"10px",boxSizing:"border-box",padding:"0.8rem"},e.breakpoints.up("md"),{maxWidth:"614px"}),root_root:{},root:(t={backgroundColor:"white",marginBottom:"0.8rem",width:"100%"},Object(y.a)(t,e.breakpoints.up("sm"),{marginBottom:"0.8rem"}),Object(y.a)(t,"@media (min-width:604px)",{border:"1px solid #6565653c"}),t),card:{width:"100%",marginBottom:e.spacing(2)},mediask:{height:190,"@media (min-width:768px)":{height:400}}}})),xo=Object(m.b)((function(e){return{token:e.auth.token}}))((function(e){var t=wo(),a=Object(ne.a)(),r=Object(ae.a)(a.breakpoints.up("md")),c=Object(n.useState)(!1),i=Object(k.a)(c,2),l=i[0],s=i[1],m=Object(n.useState)([]),u=Object(k.a)(m,2),d=u[0],p=u[1],f=Object(n.useState)({next_url:null,count:null}),h=Object(k.a)(f,2),g=h[0],b=h[1],E=Object(n.useState)(1),v=Object(k.a)(E,2),y=v[0],w=v[1],x=Object(n.useState)(!1),O=Object(k.a)(x,2),j=O[0],N=O[1],C=Object(n.useRef)(!0),S=Object(n.useRef)(),_=e.match.params.username;Object(n.useEffect)((function(){y>1&&null!==g.next_url&&!1===C.current&&(N(!0),te.a.get(g.next_url,{headers:{Authorization:"Token ".concat(e.token)}}).then((function(e){p([].concat(Object(Te.a)(d),Object(Te.a)(e.data.results))),N(!1),b({next_url:e.data.next_url,count:e.data.count})})).catch((function(e){N(!1)})))}),[y]),Object(n.useEffect)((function(){s(!0);var t="".concat(oe,"/posts/feeds/").concat(_,"/");te.a.get(t,{headers:{Authorization:"Token ".concat(e.token)}}).then((function(e){p(e.data.results),b({next_url:e.data.next_url,count:e.data.count}),C.current=!1,s(!1)})).catch((function(e){s(!1)}))}),[]);var T,A=Object(n.useCallback)((function(e){S.current&&S.current.disconnect(),S.current=new IntersectionObserver((function(e){e[0].isIntersecting&&w((function(e){return e+1}))})),e&&S.current.observe(e)}),[]),R=o.a.createElement(je.a,{className:t.card},o.a.createElement(Ae.a,{avatar:o.a.createElement(Z.a,{animation:"wave",variant:"circle",width:40,height:40}),title:o.a.createElement(Z.a,{animation:"wave",height:10,width:"80%",style:{marginBottom:6}}),subheader:o.a.createElement(Z.a,{animation:"wave",height:10,width:"40%"})}),o.a.createElement(Z.a,{animation:"wave",variant:"rect",className:t.mediask}),o.a.createElement(Re.a,null,o.a.createElement(o.a.Fragment,null,o.a.createElement(Z.a,{animation:"wave",height:10,style:{marginBottom:6}}),o.a.createElement(Z.a,{animation:"wave",height:10,width:"80%"}))));return T=r?d.map((function(a,n){return d.length===n+1?o.a.createElement("div",{key:a.id,className:t.root,ref:A},o.a.createElement(et,{user:a.user,image:a.image,slug:a.slug,liked:a.liked,saved:a.saved,likes:a.likes,caption:a.caption,comments:a.comments,timestamp:re(a.timestamp),token:e.token,owner:a.owner})):o.a.createElement("div",{key:a.id,className:t.root},o.a.createElement(et,{user:a.user,image:a.image,slug:a.slug,liked:a.liked,saved:a.saved,likes:a.likes,caption:a.caption,comments:a.comments,timestamp:re(a.timestamp),token:e.token,owner:a.owner}))})):d.map((function(a,n){return d.length===n+1?o.a.createElement(je.a,{key:a.id,className:t.root,ref:A},o.a.createElement(et,{user:a.user,image:a.image,slug:a.slug,liked:a.liked,saved:a.saved,likes:a.likes,caption:a.caption,comments:a.comments,timestamp:re(a.timestamp),token:e.token,owner:a.owner})):o.a.createElement(je.a,{key:a.id,className:t.root},o.a.createElement(et,{user:a.user,image:a.image,slug:a.slug,liked:a.liked,saved:a.saved,likes:a.likes,caption:a.caption,comments:a.comments,timestamp:re(a.timestamp),token:e.token,owner:a.owner}))})),o.a.createElement("div",{className:t.main},o.a.createElement("div",{className:t.root2},o.a.createElement("div",{className:t.root_root},T,l&&o.a.createElement(o.a.Fragment,null,R,R,R),j&&o.a.createElement(ze.a,{style:{width:"100%",display:"flex",justifyContent:"center"},type:"Oval",color:"#939ea1",height:30,width:30}))))})),Oo=Object(w.a)((function(e){return{gallery:{display:"flex",flexWrap:"wrap",justifyContent:"flex-start",position:"relative",margin:"0px"}}})),jo=Object(m.b)((function(e){return{token:e.auth.token}}))((function(e){var t=Oo(),a=Object(n.useState)([]),r=Object(k.a)(a,2),c=r[0],i=r[1],l=Object(n.useState)(!1),s=Object(k.a)(l,2),m=s[0],u=s[1],d=Object(n.useState)(!1),p=Object(k.a)(d,2),f=p[0],h=p[1];Object(n.useEffect)((function(){u(!0),te.a.get("".concat(oe,"/posts/saved/"),{headers:{Authorization:"Token ".concat(e.token)}}).then((function(e){e.data&&e.data.results.length>0?i(e.data.results):h(!0),u(!1)})).catch((function(e){u(!1)}))}),[e.token]);var g=c.map((function(e){return o.a.createElement(vo,{key:e.id,image:e.image,slug:e.slug})}));return o.a.createElement(o.a.Fragment,null,f?o.a.createElement(N.a,{variant:"h5",style:{textAlign:"center",margin:"auto",paddingTop:"1rem",width:"100%",fontSize:"12px"}},"When you save posts, you see them here."):o.a.createElement("div",{className:t.gallery},m&&o.a.createElement(ze.a,{type:"Rings",width:40,height:40,color:"#9c9c9c",style:{width:"100%",marginTop:"0.4rem",display:"flex",justifyContent:"center"}}),g))})),No=Object(w.a)((function(e){return{root:{width:"100%",height:"100%",paddingTop:"100px",textAlign:"center"},bar:{backgroundColor:"white",position:"fixed",width:"100%",textAlign:"center",top:0,left:0,borderBottom:"1px solid #6565653c",zIndex:"5"}}})),Co=function(){var e=No();return o.a.createElement("div",{className:e.root},o.a.createElement(O.a,{className:e.bar},o.a.createElement(N.a,{id:"instagramtext",variant:"h4"},"Instagram")),o.a.createElement(N.a,{variant:"h5"},"Sorry, this page isn't available."),o.a.createElement(N.a,{variant:"body2",style:{marginTop:"0.6rem"}},"The link you followed may be broken, or the page may have been removed. ",o.a.createElement(B.b,{to:"/"}," Go back to Instagram.")))},So=Object(w.a)((function(e){return{root:{paddingTop:"60px",paddingBottom:"70px",height:"100%",backgroundColor:"white",position:"relative",overflow:"auto"},content:Object(y.a)({margin:"auto",maxWidth:"975px",position:"relative",paddingBottom:"6rem"},e.breakpoints.up("md"),{padding:"20px"}),root2:Object(y.a)({minHeight:"20%",padding:"2rem"},e.breakpoints.between("xs","sm"),{padding:"1rem"}),large:Object(y.a)({width:e.spacing(18),height:e.spacing(18),position:"relative"},e.breakpoints.between("xs","sm"),{width:e.spacing(10),height:e.spacing(10)}),imager:{width:"30%",marginRight:"30px",display:"flex",justifyContent:"center"},avatar:{"@media (min-width:768px)":{height:"150px",width:"150px"}},gridone:{display:"flex",justifyContent:"flex-start"},gridtwo:{width:"100%"},btn:{color:"black",borderColor:"#e0dcdc"},btn2:{paddingLeft:"0px",margin:"0.3rem"},grid2content:{margin:"0.3rem auto"},detailbtn:{width:"33.33%","& span":{display:"block"}},overviewp:{whiteSpace:"pre-wrap",wordWrap:"break-word"},displayUpMd:{"@media (max-width:768px)":{display:"none"}},displayDownMd:{"@media (min-width:768px)":{display:"none"}},privateContent:{width:"100%",minHeight:"200px",height:"100%",textAlign:"center",padding:"1rem 1.2rem"},noPosts:{width:"100%",display:"flex",justifyContent:"flex-start","@media (min-width:768px)":{justifyContent:"center"}},noPostsContent:{display:"flex",alignContent:"center",justifyContent:"center",padding:"0.4rem 0.4rem","@media (min-width:768px)":{flexWrap:"wrap",flexDirection:"column"}},cmContent:{margin:"auto",padding:"0.5rem"},cmIcon:{padding:"0.4rem",border:"1px solid black",borderRadius:"100%",fontSize:"3rem"},noPostsText:{margin:"auto",padding:"0.6rem","@media (min-width:768px)":{textAlign:"center"}},activeStyle:{color:"#7ac2eb"}}}));String.prototype.count=function(e){return(this.length-this.replace(new RegExp(e,"g"),"").length)/e.length};var _o=Object(h.i)(Object(m.b)((function(e){return{token:e.auth.token}}),(function(e){return{nerror:function(){return e({type:"CHANGE_NERROR"})}}}))((function(e){var t=So(),a=Object(h.g)(),r=Object(h.h)().username,c=e.location,i=1===c.pathname.count("/"),l=!!c.pathname.includes("/saved"),s=Object(n.useState)(!1),m=Object(k.a)(s,2),u=m[0],d=m[1],p=Object(n.useState)(!1),f=Object(k.a)(p,2),g=f[0],b=f[1],E=Object(n.useState)({username:"",full_name:"",bio:"",profile_pic:"",friends:{},privacy:"",userType:"",posts:""}),v=Object(k.a)(E,2),y=v[0],w=v[1],x=Object(n.useState)(!1),O=Object(k.a)(x,2),C=O[0],_=O[1],T=Object(n.useState)(!1),A=Object(k.a)(T,2),R=A[0],F=A[1],z=function(){F(!1)},D=!(!y.privacy||y.privacy&&("owner"===y.userType||"following"===y.userType));Object(n.useEffect)((function(){e.token?(d(!0),te.a.get("".concat(oe,"/accounts/profile/").concat(r,"/"),{headers:{Authorization:"Token ".concat(e.token)}}).then((function(e){d(!1),w(e.data)})).catch((function(t){d(!1),t.response||e.nerror(),t.response.data&&"No_Profile_Found"===t.response.data.detail&&b(!0)}))):a.push("/login")}),[e.token,r,a,e.nerror]);var W=function(){var t="".concat(oe,"/frequest/send/");te.a.post(t,{receiver:r},{headers:{Authorization:"Token ".concat(e.token)}}).then((function(e){w(Object(ft.a)(Object(ft.a)({},y),{},{userType:"requested"}))})).catch((function(e){}))},I=Object(ne.a)(),M=Object(ae.a)(I.breakpoints.up("md")),P=o.a.createElement(o.a.Fragment,null,o.a.createElement(N.a,{variant:"h5",style:{fontSize:"20px"}},y.full_name),o.a.createElement(N.a,{variant:"body2",component:"p",className:t.overviewp},y.bio)),L=o.a.createElement(o.a.Fragment,null,"follow"===y.userType?o.a.createElement(o.a.Fragment,null,o.a.createElement(le.a,{variant:"outlined",className:"".concat(t.grid2content," ").concat(t.btn),fullWidth:!M,onClick:W},"Follow")):null,"owner"===y.userType?o.a.createElement(o.a.Fragment,null,o.a.createElement(le.a,{variant:"outlined",className:"".concat(t.grid2content," ").concat(t.btn),fullWidth:!M,component:B.c,to:"/accounts/edit"},"Edit Profile")):null,"follower"===y.userType?o.a.createElement(o.a.Fragment,null,o.a.createElement(le.a,{variant:"outlined",className:"".concat(t.grid2content," ").concat(t.btn),fullWidth:!M,onClick:W},"Follow Back")):null,"following"===y.userType?o.a.createElement(o.a.Fragment,null,o.a.createElement(le.a,{variant:"outlined",className:"".concat(t.grid2content," ").concat(t.btn),onClick:function(){var t="".concat(oe,"/chat/room/");te.a.post(t,{userTwo:r},{headers:{Authorization:"Token ".concat(e.token)}}).then((function(e){e.data.roomId&&a.push("/direct/chat/".concat(e.data.roomId))})).catch((function(e){}))}},"Messsage"),o.a.createElement(j.a,{color:"inherit",onClick:function(e){e.stopPropagation(),F(!0)}},o.a.createElement(oo.a,null))):null,"requested"===y.userType?o.a.createElement(o.a.Fragment,null,o.a.createElement(le.a,{variant:"outlined",className:"".concat(t.grid2content," ").concat(t.btn),onClick:function(){var t="".concat(oe,"/frequest/cancel/");te.a.post(t,{receiver:r},{headers:{Authorization:"Token ".concat(e.token)}}).then((function(e){w(Object(ft.a)(Object(ft.a)({},y),{},{userType:"follow"}))})).catch((function(e){}))}},"requested")):null);return o.a.createElement(o.a.Fragment,null,g?o.a.createElement(Co,null):o.a.createElement("section",{className:t.root},o.a.createElement(ye,{profile:!0,name:r,type:y.userType}),o.a.createElement(o.a.Fragment,null,u?o.a.createElement(mt,null):o.a.createElement("div",{className:t.content},o.a.createElement(ge.a,{container:!0,justify:"center",alignContent:"center",className:t.root2},o.a.createElement(ge.a,{item:!0,xs:12,className:t.gridone},o.a.createElement("div",{className:t.imager},o.a.createElement(be.a,{onClick:"owner"===y.userType?function(){_(!0)}:null,className:t.avatar,component:"div"},o.a.createElement(S.a,{alt:"Remy Sharp",src:y.profile_pic,className:t.large}))),o.a.createElement("div",{className:t.gridtwo},o.a.createElement(N.a,{variant:"h5",className:t.grid2content},y.username),L,o.a.createElement("div",{className:t.displayUpMd},o.a.createElement(le.a,{component:"span",className:t.btn2,disabled:D},y.friends.posts," Posts"),o.a.createElement(le.a,{component:B.b,disabled:D,to:{pathname:"/".concat(r,"/followers"),state:{isModal:!0}},className:t.btn2},y.friends.followers," Followers"),o.a.createElement(le.a,{component:B.b,disabled:D,to:{pathname:"/".concat(r,"/followings"),state:{isModal:!0}},className:t.btn2},y.friends.followings," Following")),o.a.createElement("div",{className:t.displayUpMd},P))),o.a.createElement(ge.a,{className:t.displayDownMd,item:!0,xs:11,style:{marginTop:"0.5rem"}},P),o.a.createElement(ge.a,{xs:!0,item:!0})),o.a.createElement("div",{className:t.displayDownMd},o.a.createElement(bo,{username:r,followers:y.friends.followers,followings:y.friends.followings,posts:y.friends.posts,disable:D})),!y.privacy||y.privacy&&("owner"===y.userType||"following"===y.userType)?o.a.createElement("div",{style:{width:"100%"}},o.a.createElement("div",{style:{width:"100%",display:"flex",justifyContent:"space-evenly",overflow:"hidden"}},o.a.createElement(j.a,{className:"".concat(t.icon," ").concat(i&&t.activeStyle),component:B.c,to:"/".concat(r)},o.a.createElement(co.a,null)),o.a.createElement(j.a,{className:t.icon,component:B.c,to:"/".concat(r,"/feed"),activeClassName:t.activeStyle},o.a.createElement(lo.a,null)),"owner"===y.userType&&o.a.createElement(j.a,{className:t.icon,component:B.c,to:"/".concat(r,"/saved"),activeClassName:t.activeStyle},o.a.createElement(mo.a,null))),o.a.createElement("div",null,y.posts&&o.a.createElement(h.b,{exact:!0,path:"/:username",component:yo}),o.a.createElement(h.b,{exact:!0,strict:!0,path:"/:username/feed",component:xo}),o.a.createElement(h.b,{exact:!0,strict:!0,path:"/:username/saved",component:jo}))):o.a.createElement("div",{className:t.privateContent},o.a.createElement(ho.a,null),o.a.createElement("br",null),o.a.createElement(N.a,{variant:"overview"},o.a.createElement("b",null," This Account Is Private.")),o.a.createElement("br",null),o.a.createElement(N.a,{variant:"caption"},"You need to follow this account in order to view their posts.")),!l&&o.a.createElement(o.a.Fragment,null,(!y.posts&&!y.posts&&"owner"!==y.userType&&y.privacy&&"following"===y.userType||!y.posts&&"owner"!==y.userType&&!y.privacy||!y.posts&&"owner"===y.userType)&&o.a.createElement("div",{className:t.noPosts},o.a.createElement("div",{className:t.noPostsContent},o.a.createElement("div",{className:t.cmContent},o.a.createElement(po.a,{className:t.cmIcon})),o.a.createElement("div",{className:t.noPostsText},o.a.createElement(N.a,{variant:"caption"},o.a.createElement("b",null," No Posts Yet ")),o.a.createElement("br",null),o.a.createElement(N.a,{variant:"caption",style:{color:"#2d2f3dcf"}}," When ".concat("owner"===y.userType?"you":r," posts, you 'll see ").concat("owner"===y.userType?"you":"their"," photos and videos here."))))))),o.a.createElement(_a,{open:C,onClose:function(){_(!1)},username:r,changeProfilePic:function(e){w(Object(ft.a)(Object(ft.a)({},y),{},{profile_pic:e}))},profile_pic:y.profile_pic}),o.a.createElement(nt,{open:R,close:z,username:r,profile_pic:y.profile_pic,unfollowHandler:function(){var t="".concat(oe,"/profile/unfollow/");te.a.post(t,{anotherUser:r},{headers:{Authorization:"Token ".concat(e.token)}}).then((function(e){w(Object(ft.a)(Object(ft.a)({},y),{},{userType:"follow"})),z()})).catch((function(e){}))}})),o.a.createElement(Oe,null)))}))),To=a(112),Ao=a.n(To),Ro=a(277),Fo=a(283),zo=a(114),Do=a.n(zo),Wo=a(113),Io=a.n(Wo),Bo=Object(w.a)((function(e){return{root:{display:"flex",flexDirection:"column",width:"100%",height:"100%",position:"relative",backgroundColor:"white"},toolbarStyle:{width:"100%",padding:"0.5rem",position:"sticky",zIndex:100,backgroundColor:"white",top:0,left:0},toolbarone:{display:"flex",alighContent:"center",borderBottom:"1px solid #dbdbdb"},iconstyle:{width:"70px",display:"flex",alighContent:"center",marginLeft:"0.6rem",marginBottom:"0.4rem"},closeicon:Object(y.a)({},e.breakpoints.down("sm"),{display:"none"}),arrowicon:Object(y.a)({},e.breakpoints.up("md"),{display:"none"}),mainText:{width:"100%",textAlign:"center"},nextBtn:{width:"70px"},toolbartwo:{display:"flex",borderBottom:"1px solid #dbdbdb"},tostyle:{width:"60px",padding:"10px 12px 4px 12px"},mainStyle:{width:"100%",display:"flex",flexWrap:"wrap",maxHeight:"100px",overflowY:"auto"},inputRoot:{width:"100%",fontSize:"14px",padding:"4px 12px"},selectedUser:{width:"auto",display:"flex",justifyContent:"center",alighContent:"center",padding:"1px 12px",margin:"4px",backgroundColor:"#298be4",color:"white",borderRadius:"8px"},selectedContent:{display:"flex",alighContent:"center",justifyContent:"center"},usernameStyle:{display:"block",fontSize:"14px",margin:"auto"},removeBtn:{marginLeft:"8px",color:"white"},innerContent:{display:"flex",flexDirection:"column",width:"100%",padding:"0.3rem 0.5rem",overflowY:"auto"}}})),Mo=Object(m.b)((function(e){return{token:e.auth.token}}))((function(e){var t,a=Bo(),r=Object(n.useState)([]),c=Object(k.a)(r,2),i=c[0],l=c[1],s=Object(n.useState)([]),m=Object(k.a)(s,2),u=m[0],d=m[1],p=Object(n.useState)([]),f=Object(k.a)(p,2),g=f[0],b=f[1],E=Object(n.useState)(!1),v=Object(k.a)(E,2),y=v[0],w=v[1],x=Object(n.useState)(!1),O=Object(k.a)(x,2),S=O[0],_=O[1],T=Object(n.useRef)(),A=Object(n.useRef)(null),R=Object(n.useRef)(null),F=Object(n.useState)(!1),z=Object(k.a)(F,2),D=z[0],W=z[1],I=Object(n.useState)(""),M=Object(k.a)(I,2),P=M[0],L=M[1],H=Object(n.useState)(!1),U=Object(k.a)(H,2),q=U[0],Y=U[1],J=Object(n.useRef)(""),X=Object(n.useRef)(!1);Object(n.useEffect)((function(){Y(!0);var t="".concat(oe,"/accounts/chat/user/");te.a.get(t,{headers:{Authorization:"Token ".concat(e.token)}}).then((function(e){d(e.data.results),A.current=e.data.next_url,Y(!1)})).catch((function(e){Y(!1)}))}),[e.token]);var V=function(){X.current?null!==R.current&&(w(!0),te.a.get(R.current,{headers:{Authorization:"Token ".concat(e.token)}}).then((function(e){b((function(t){return[].concat(Object(Te.a)(t),Object(Te.a)(e.data.results))})),R.current=e.data.next_url,w(!1)})).catch((function(e){w(!1)}))):null!==A.current&&(w(!0),te.a.get(A.current,{headers:{Authorization:"Token ".concat(e.token)}}).then((function(e){d((function(t){return[].concat(Object(Te.a)(t),Object(Te.a)(e.data.results))})),A.current=e.data.next_url,w(!1)})).catch((function(e){w(!1)})))},Q=Object(n.useCallback)((function(e){T.current&&T.current.disconnect(),T.current=new IntersectionObserver((function(e){e[0].isIntersecting&&V()})),e&&T.current.observe(e)}),[V]),$=function(e){var t=i.filter((function(t){return t!==e}));l(t)},K=function(e){i.includes(e.target.name)?$(e.target.name):l([].concat(Object(Te.a)(i),[e.target.name]))},Z=i.map((function(e){return o.a.createElement("div",{className:a.selectedUser},o.a.createElement("div",{className:a.selectedContent},o.a.createElement("div",{className:a.usernameStyle},e),o.a.createElement("div",{className:a.removeBtn},o.a.createElement(Ao.a,{fontSize:"small",style:{marginTop:"6px"},onClick:function(){return $(e)}}))))})),ee=o.a.createElement("div",{className:a.toolbarStyle},o.a.createElement("div",{className:a.toolbarone},o.a.createElement("div",{className:a.iconstyle},o.a.createElement(j.a,{component:B.c,to:"/direct/inbox",style:{padding:0}},o.a.createElement(Ao.a,{className:a.closeicon}),o.a.createElement(G.a,{className:a.arrowicon}))),o.a.createElement("div",{className:a.mainText},o.a.createElement(N.a,{component:"h5",variant:"h5",id:"instagramtext"},"New Message")),o.a.createElement("div",{className:a.nextBtn},o.a.createElement(le.a,{onClick:function(){var t="".concat(oe,"/chat/room/");te.a.post(t,{userTwo:i[0]},{headers:{Authorization:"Token ".concat(e.token)}}).then((function(e){L(e.data.roomId),W(!0)})).catch((function(e){}))},style:{color:"#009cfde8",fontWeight:600}},"Next"))),o.a.createElement("div",{className:a.toolbartwo},o.a.createElement("div",{className:a.tostyle},o.a.createElement(N.a,{variant:"subtitle1"},o.a.createElement("b",null," To :- "))),o.a.createElement("div",{className:a.mainStyle},Z,o.a.createElement(C.a,{placeholder:"search\u2026",className:a.inputRoot,inputProps:{"aria-label":"search"},onChange:function(a){var n=a.target.value;if(J.current=n,""!==n){"undefined"!=typeof t&&t.cancel("Operation canceled due to new request."),t=te.a.CancelToken.source();var o="".concat(oe,"/accounts/search/?search=").concat(n);te.a.get(o,{cancelToken:t.token,headers:{Authorization:"Token ".concat(e.token)}}).then((function(e){0===e.data.results.length?(_(!0),b([])):(b(e.data.results),R.current=e.data.next_url,S&&_(!1)),X.current=!0})).catch((function(e){}))}""===n&&(b([]),X.current=!1,S&&_(!1))}})))),ae=""===J.current?u:g,ne=ae.map((function(e,t){return ae.length===t+1?o.a.createElement(o.a.Fragment,null,o.a.createElement(rt,{key:e.id,first:e.username,second:e.full_name,profile_pic:e.profile_pic},o.a.createElement(Ro.a,{style:{margin:"0px"},control:o.a.createElement(Fo.a,{checked:!!i.includes(e.username),onChange:K,icon:o.a.createElement(Io.a,null),checkedIcon:o.a.createElement(Do.a,{style:{color:"#3890c6"}}),name:e.username})})),o.a.createElement("div",{ref:Q})):o.a.createElement(rt,{key:e.id,first:e.username,second:e.full_name,profile_pic:e.profile_pic},o.a.createElement(Ro.a,{style:{margin:"0px"},control:o.a.createElement(Fo.a,{checked:!!i.includes(e.username),onChange:K,icon:o.a.createElement(Io.a,null),checkedIcon:o.a.createElement(Do.a,{style:{color:"#3890c6"}}),name:e.username})}))}));return D?o.a.createElement(h.a,{to:"/direct/chat/".concat(P)}):o.a.createElement("div",{className:a.root},ee,q?o.a.createElement(sa,null):o.a.createElement(o.a.Fragment,null,""===J.current&&0!==u.length&&o.a.createElement(N.a,{variant:"caption",style:{fontWeight:"600",padding:"0.3rem 0.5rem",fontSize:"14px"}},"Suggestions"),(S||0===u.length&&""===J.current)&&o.a.createElement(N.a,{variant:"caption",style:{fontWeight:"400",padding:"0.6rem 0.5rem",fontSize:"14px",width:"100%",textAlign:"center",color:"#b4b4b4"}},"No User Found."),o.a.createElement("div",{className:a.innerContent},ne,y&&o.a.createElement(ze.a,{style:{width:"100%",display:"flex",justifyContent:"center"},type:"Oval",color:"#696969",height:30,width:30}))))})),Po=function(){return o.a.createElement(Va,null,o.a.createElement(Mo,null))},Lo=function(e){return o.a.createElement(Va,null,o.a.createElement(ba,null))},Ho=function(e){return alert("req recv"),o.a.createElement(Va,null,o.a.createElement(ha,null))},Uo=Object(w.a)((function(e){return{root:{backgroundColor:"white"},content:{width:"100%",height:"100%",paddingTop:"70px",backgroundColor:"white"},noContent:{position:"absolute",top:"50%",left:"50%",msTransform:"translateX(-50%) translateY(-50%)",webkitTransform:"translate(-50%,-50%)",transform:"translate(-50%,-50%)",textAlign:"center",width:"80%",fontWeight:"300",fontSize:"20px"}}})),qo=Object(m.b)((function(e){return{token:e.auth.token}}))((function(e){var t=Uo(),a=Object(ne.a)(),r=Object(ae.a)(a.breakpoints.up("md")),c=Object(n.useState)({data:[],next_url:null,count:null}),i=Object(k.a)(c,2),l=i[0],s=i[1],m=Object(n.useState)(1),u=Object(k.a)(m,2),d=u[0],p=u[1],f=Object(n.useState)(!1),h=Object(k.a)(f,2),g=h[0],b=h[1],E=Object(n.useState)(!1),v=Object(k.a)(E,2),y=v[0],w=v[1],x=Object(n.useRef)(!0),O=Object(n.useRef)();Object(n.useEffect)((function(){d>1&&!1===x.current&&(b(!0),te.a.get(l.next_url,{headers:{Authorization:"Token ".concat(e.token)}}).then((function(e){s({data:[].concat(Object(Te.a)(l.data),Object(Te.a)(e.data.results)),next_url:e.data.next_url,count:e.data.count}),b(!1)})).catch((function(e){b(!1)})))}),[d]),Object(n.useEffect)((function(){var t="".concat(oe,"/posts/").concat(e.match.params.slug,"/liked_by/");te.a.get(t,{headers:{Authorization:"Token ".concat(e.token)}}).then((function(e){204!==e.status?(s({data:e.data.results,next_url:e.data.next_url,count:e.data.count}),x.current=!1):w(!0)})).catch((function(e){}))}),[e.token,e.match.params.slug]);var j=Object(n.useCallback)((function(e){O.current&&O.current.disconnect(),O.current=new IntersectionObserver((function(e){e[0].isIntersecting&&(!0===x.current&&(x.current=!1),p((function(e){return e+1})))})),e&&O.current.observe(e)}),[]),C=l.data.map((function(e,t){return l.data.length===t+1?o.a.createElement(o.a.Fragment,null,o.a.createElement("div",{ref:j}),o.a.createElement(rt,{first:e.username,second:e.full_name,profile_pic:e.profile_pic,type:e.userType})):o.a.createElement(rt,{first:e.username,second:e.full_name,profile_pic:e.profile_pic,type:e.userType})})),S=o.a.createElement("div",{style:{width:"100%",position:"relative",zIndex:10,overflowY:"auto",minHeight:"100%",backgroundColor:"white"}},r?o.a.createElement(ra,{heading:"Likes"}):o.a.createElement(ia,{heading:"Likes"}),y?o.a.createElement(N.a,{variant:"h5",component:"span",className:t.noContent},"No Likes"):o.a.createElement("div",{className:t.content},C,g&&o.a.createElement(ze.a,{style:{width:"100%",display:"flex",justifyContent:"center"},type:"BallTriangle",color:"#43de6c",height:40,width:40})));return o.a.createElement(o.a.Fragment,null,!r&&o.a.createElement(o.a.Fragment,null,S),r&&o.a.createElement(Va,null,o.a.createElement(o.a.Fragment,null,S)))})),Yo=Object(w.a)((function(e){return{root:{width:"100%",position:"relative",zIndex:10,height:"100%",backgroundColor:"white",paddingTop:"60px"},forCaption:{paddingTop:"1rem",paddingBottom:"1rem",borderBottom:"1px solid #6565653c",marginBottom:"0.8rem"},container:{width:"100%",paddingBottom:"90px"},appBar:Object(y.a)({top:"auto",bottom:1,color:"black",position:"fixed",width:"100%",margin:"auto",backgroundColor:"white"},e.breakpoints.up("md"),{display:"none"}),search:{position:"relative",marginLeft:e.spacing(3),width:"100%",display:"block"},searchbar:{margin:"0.5rem",border:"1px solid #6565653c",borderRadius:"50px",paddingLeft:"0px"},iconstyle:{marginLeft:"auto",color:"#3070bc"},inputInput:{width:"100%",marginTop:"auto",marginBottom:"auto",height:"100%"},formStyle:{display:"flex",width:"100%"},noContent:{position:"absolute",top:"50%",left:"50%",msTransform:"translateX(-50%) translateY(-50%)",webkitTransform:"translate(-50%,-50%)",transform:"translate(-50%,-50%)",textAlign:"center",width:"80%",fontWeight:"300",fontSize:"16px",color:"gray"}}})),Go=Object(m.b)((function(e){return{token:e.auth.token}}))((function(e){var t=Yo(),a=e.match.params.slug,r=Object(n.useState)(""),c=Object(k.a)(r,2),i=c[0],l=c[1],s=Object(n.useState)({username:"",profile_pic:null,caption:"",comments:[],next_url:null,count:null}),m=Object(k.a)(s,2),u=m[0],d=m[1],p=Object(n.useState)(1),f=Object(k.a)(p,2),h=f[0],g=f[1],b=Object(n.useState)(!1),E=Object(k.a)(b,2),v=E[0],y=E[1],w=Object(n.useState)(!1),x=Object(k.a)(w,2),S=x[0],_=x[1],T=Object(n.useRef)(!0),A=Object(n.useRef)();Object(n.useEffect)((function(){h>1&&!1===T.current&&(y(!0),te.a.get(u.next_url,{headers:{Authorization:"Token ".concat(e.token)}}).then((function(e){d(Object(ft.a)(Object(ft.a)({},u),{},{comments:[].concat(Object(Te.a)(u.comments),Object(Te.a)(e.data.results.comments)),next_url:e.data.next_url,count:e.data.count})),y(!1)})).catch((function(e){y(!1)})))}),[h]),Object(n.useEffect)((function(){var t="".concat(oe,"/posts/").concat(a,"/comments/");te.a.get(t,{headers:{Authorization:"Token ".concat(e.token)}}).then((function(e){d({username:e.data.results.username,profile_pic:e.data.results.profile_pic,caption:e.data.results.caption,comments:Object(Te.a)(e.data.results.comments),next_url:e.data.next_url,count:e.data.count}),T.current=!1,0===e.data.results.comments.length&&_(!0)})).catch((function(e){}))}),[e.token,a]);var R=Object(n.useCallback)((function(e){A.current&&A.current.disconnect(),A.current=new IntersectionObserver((function(e){e[0].isIntersecting&&(!0===T.current&&(T.current=!1),g((function(e){return e+1})))})),e&&A.current.observe(e)}),[]),F=function(t){t.preventDefault(),l("");var n="".concat(oe,"/posts/post/comment/");te.a.post(n,{slug:a,comment:i},{headers:{Authorization:"Token ".concat(e.token)}}).then((function(e){d(Object(ft.a)(Object(ft.a)({},u),{},{comments:[e.data].concat(Object(Te.a)(u.comments))})),S&&_(!1)})).catch((function(e){}))},z=u.comments.map((function(t,a){return u.comments.length===a+1?o.a.createElement(o.a.Fragment,null,o.a.createElement("div",{ref:R}),o.a.createElement(Hn,{key:t.id,username:t.user.username,profile_pic:t.user.profile_pic,comment:t.comment,liked:t.liked,likes:t.likes,token:e.token,id:t.id,timestamp:re(t.timestamp),can_delete:t.can_delete})):o.a.createElement(Hn,{key:t.id,username:t.user.username,profile_pic:t.user.profile_pic,comment:t.comment,liked:t.liked,likes:t.likes,token:e.token,id:t.id,timestamp:re(t.timestamp),can_delete:t.can_delete})})),D=o.a.createElement("div",{className:t.appBar},o.a.createElement(O.a,{className:t.searchbar},o.a.createElement("form",{onSubmit:F,className:t.formStyle},o.a.createElement("div",{className:t.search},o.a.createElement(C.a,{placeholder:"comment\u2026",inputProps:{"aria-label":"search"},onChange:function(e){l(e.target.value)},value:i,className:t.inputInput})),o.a.createElement(j.a,{disabled:""===i,className:t.iconstyle,onClick:F},o.a.createElement(gn.a,null)))));return o.a.createElement("div",{className:t.root},o.a.createElement(ia,{heading:"Comments"}),o.a.createElement("div",{className:t.forCaption},o.a.createElement(Hn,{noLike:!0,username:u.username,profile_pic:u.profile_pic,comment:u.caption}),o.a.createElement("span",null," ",re(u.timestamp)," ")),S?o.a.createElement(N.a,{variant:"h5",component:"span",className:t.noContent},"No comments"):o.a.createElement("div",{className:t.container},z,v&&o.a.createElement(ze.a,{style:{width:"100%",display:"flex",justifyContent:"center"},type:"BallTriangle",color:"#43de6c",height:40,width:40})),D)})),Jo=function(e){Object(p.a)(a,e);var t=Object(f.a)(a);function a(e){var n;return Object(u.a)(this,a),(n=t.call(this,e)).previousLocation=n.props.location,n}return Object(d.a)(a,[{key:"componentWillUpdate",value:function(){var e=this.props.location;e.state&&(e.state.modal||e.state.imagePopup||e.state.activity)||(this.previousLocation=e)}},{key:"render",value:function(){var e=Object(b.b)("md",this.props.width),t=this.props.location,a=!1,n=!1,r=!1,c=!1,i=t;return e&&(a=t.state&&t.state.isModal&&this.previousLocation!==t,n=t.state&&t.state.imagePopup&&this.previousLocation!==t,r=t.pathname.includes("/create/detail"),c=t.state&&t.state.activity&&this.previousLocation!==t,i=a||n||r||c?this.previousLocation:t),o.a.createElement(o.a.Fragment,null,o.a.createElement(h.d,{location:i},o.a.createElement(v,{exact:!0,path:"/",component:pt}),o.a.createElement(v,{exact:!0,path:"/explore",component:ea}),o.a.createElement(h.b,{exact:!0,path:["/direct/inbox","/direct/chat/:id"]},o.a.createElement(zn,null)),o.a.createElement(h.b,{exact:!0,path:"/direct/new"},e&&o.a.createElement(h.a,{to:"/direct/inbox"}),!e&&o.a.createElement(v,{exact:!0,path:"/direct/new",component:Mo})),o.a.createElement(v,{exact:!0,path:["/activity","/activity/requests","/activity/requested"],component:Ea}),o.a.createElement(v,{exact:!0,path:"/create/detail",component:an}),o.a.createElement(v,{exact:!0,path:"/p/:slug",component:to}),o.a.createElement(h.b,{exact:!0,path:"/p/:slug/comments",render:function(t){return e?o.a.createElement(h.a,{to:"/p/".concat(t.match.params.slug)}):o.a.createElement(v,{exact:!0,path:"/p/:slug/comments",component:Go})}}),o.a.createElement(h.b,{exact:!0,path:"/login",component:zt}),o.a.createElement(h.b,{exact:!0,path:"/Signup",component:Bt}),o.a.createElement(h.b,{exact:!0,path:"/accounts/password/reset",component:Yt}),o.a.createElement(h.b,{exact:!0,path:"/accounts/verify-email",component:$t}),o.a.createElement(h.b,{exact:!0,path:"/accounts/confirm-email/:key",component:Zt}),o.a.createElement(h.b,{exact:!0,path:"/accounts/password/recovery/:ud/:tkn/",component:Xt}),o.a.createElement(v,{exact:!0,path:["/accounts/edit","/accounts/password/change","/accounts/privacy"],component:Ua}),o.a.createElement(v,{exact:!0,path:"/settings",component:Ga}),o.a.createElement(v,{exact:!0,path:"/p/:slug",component:eo}),o.a.createElement(v,{exact:!0,path:"/p/:slug/likes",component:qo}),o.a.createElement(v,{exact:!0,path:"/gallery2",component:Xn}),o.a.createElement(h.b,{exact:!0,path:["/:username","/:username/feed","/:username/saved"]},o.a.createElement(_o,null)),e&&o.a.createElement(v,{exact:!0,path:["/:username/followers","/:username/followings"],component:en}),o.a.createElement(v,{exact:!0,path:"/:username/followers",component:Ka}),o.a.createElement(v,{exact:!0,path:"/:username/followings",component:Za}),o.a.createElement(h.b,{path:"*",component:Co})),a?o.a.createElement(o.a.Fragment,null,o.a.createElement(v,{exact:!0,strict:!0,path:"/direct/new"},o.a.createElement(Po,null)),o.a.createElement(v,{exact:!0,path:["/activity","/activity/requests","/activity/requested"],component:Ea}),o.a.createElement(h.b,{exact:!0,path:["/p/:slug","/p/:slug/comments"]},o.a.createElement(Qn,{isImagePopup:a})),o.a.createElement(v,{exact:!0,path:"/p/:slug/likes",component:qo}),o.a.createElement(v,{exact:!0,path:"/:username/followers",component:Ka}),o.a.createElement(v,{exact:!0,path:"/:username/followings",component:Za})):null,n?o.a.createElement(h.b,{exact:!0,path:"/p/:slug"},o.a.createElement(Qn,{isImagePopup:n})):null,r&&o.a.createElement(v,{exact:!0,path:"/create/detail",component:an}),c?o.a.createElement(o.a.Fragment,null,o.a.createElement(v,{path:"/activity",component:ao}),o.a.createElement(v,{exact:!0,path:"/activity/requests",component:Ho}),o.a.createElement(v,{exact:!0,path:"/activity/requested",component:Lo})):null)}}]),a}(n.Component),Xo=Object(g.d)(h.i,Object(b.a)())(Jo),Vo=new(function(){function e(){var t=this;Object(u.a)(this,e),this.callbacks={},this.newNotification=function(e){var a=JSON.parse(e),n=a.command;console.log("parsed data :-",a.command),0!==Object.keys(t.callbacks).length&&("initial_notification"===n&&t.callbacks[n](a.notifications),"maincount"===n&&t.callbacks[n](a.count),"directcount"===n&&t.callbacks[n](a.count),"userdata"===n&&(t.callbacks[n](a.userdata),console.log("getted data userdata :-",a)))},this.socketRef=null}return Object(d.a)(e,[{key:"get_key_and_token",value:function(e){this.token=e}},{key:"connect",value:function(){var e=this,t="".concat("ws://13.126.45.221:8000","/notification/?token=").concat(this.token);this.socketRef=new WebSocket(t),this.socketRef.onopen=function(){e.getInitialNotification()},this.socketRef.onmessage=function(t){e.newNotification(t.data)},this.socketRef.onerror=function(e){},this.socketRef.onclose=function(t){e.connect()}}},{key:"state",value:function(){if(null!==this.socketRef)return this.socketRef.readyState}},{key:"disconnect",value:function(){null!=this.socketRef&&(this.socketRef.close(3500),this.socketRef=null)}},{key:"addCallbacks",value:function(e,t,a,n){this.callbacks.initial_notification=e,this.callbacks.maincount=t,this.callbacks.directcount=a,this.callbacks.userdata=n}},{key:"getInitialNotification",value:function(e,t){this.sendMessage({command:"initial_notification",token:this.token})}},{key:"sendMessage",value:function(e){try{this.socketRef.send(JSON.stringify(Object(ft.a)({},e)))}catch(t){console.log(t.message)}}}]),e}()),Qo=Object(w.a)((function(e){return{root:{width:"100%",height:"100%",position:"fixed",top:"50%",left:"50%",msTransform:"translateX(-50%) translateY(-50%)",webkitTransform:"translate(-50%,-50%)",transform:"translate(-50%,-50%)",textAlign:"center",backgroundColor:"white",zIndex:1e6,display:"flex",justifyContent:"center",alignContent:"center"},container:{width:"80%",position:"fixed",top:"50%",left:"50%",msTransform:"translateX(-50%) translateY(-50%)",webkitTransform:"translate(-50%,-50%)",transform:"translate(-50%,-50%)"},text:{fontSize:"14px",fontWeight:"400"},bar:{backgroundColor:"white",position:"fixed",width:"100%",textAlign:"center",top:0,left:0,borderBottom:"1px solid #6565653c",zIndex:"5"}}})),$o=function(){var e=Qo();return o.a.createElement("div",{className:e.root},o.a.createElement(O.a,{className:e.bar},o.a.createElement(N.a,{id:"instagramtext",variant:"h4"},"Instagram")),o.a.createElement("div",{className:e.container},o.a.createElement(N.a,{variant:"h5"},"Network Error"),o.a.createElement(N.a,{className:e.text},"Check your internet connection and refresh the page.")))},Ko=Object(l.a)({breakpoints:{values:{xs:0,sm:600,md:768,lg:1280,xl:1920}},palette:{whitee:"#ffffff"}}),Zo=Object(m.b)((function(e){return{token:e.auth.token,loading:e.auth.loading,nerror:e.auth.nerror}}),(function(e){return{addNotificationCount:function(t){return e({type:"ADD_NOTIFICATION_COUNT",maincount:(a=t).maincount,reqrec:a.reqrec,reqsend:a.reqsend,directcount:a.directcount});var a},setMainCount:function(t){return e({type:"SET_MAIN_COUNT",maincount:t})},setDirectCount:function(t){return e({type:"SET_DIRECT_COUNT",directcount:t})},addDirect:function(t){return e(function(e){return{type:"ADD_DIRECT",data:e}}(t))}}}))((function(e){Object(n.useEffect)((function(){e.token&&1!==Vo.state()&&(Vo.get_key_and_token(e.token),Vo.addCallbacks(e.addNotificationCount,e.setMainCount,e.setDirectCount,e.addDirect),t(),Vo.connect())}),[e.token]);var t=function e(){setTimeout((function(){1!==Vo.state()&&e()}),500)};return o.a.createElement(o.a.Fragment,null,o.a.createElement(s.a,{theme:Ko},o.a.createElement(Xo,null),o.a.createElement(i.a,null)),e.nerror&&o.a.createElement($o,null))})),er=a(144),tr=function(e,t){return Object(ft.a)(Object(ft.a)({},e),t)},ar={token:null,username:null,nerror:!1},nr=function(e,t){return tr(e,{token:t.user.token,username:t.user.username})},or=function(e,t){return tr(e,{token:null,username:null,userId:null,profile_pic:null})},rr=function(e,t){if(e.username!==t.username){var a={token:e.token,username:t.username};return localStorage.setItem("user",JSON.stringify(a)),tr(e,{username:t.username})}return e},cr=function(e,t){return tr(e,{nerror:!0})},ir=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ar,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"AUTH_SUCCESS":return nr(e,t);case"AUTH_LOGOUT":return or(e);case"CHANGE_USERNAME":return rr(e,t);case"CHANGE_NERROR":return cr(e);default:return e}},lr={messages:[],loading:!1},sr=function(e,t){return tr(e,{messages:[].concat(Object(Te.a)(e.messages),[{content:t.message,sender:t.sender,timestamp:t.timestamp}])})},mr=function(e,t){return tr(e,{messages:t.messages.reverse()})},ur=function(e,t){return tr(e,{messages:[].concat(Object(Te.a)(t.messages.reverse()),Object(Te.a)(e.messages))})},dr=function(e,t){return tr(e,{loading:!0})},pr=function(e,t){return tr(e,{loading:!1})},fr=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:lr,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ADD_MESSAGE":return sr(e,t);case"SET_MESSAGES":return mr(e,t);case"OLD_MESSAGES":return ur(e,t);case"MLOAD_T":return dr(e);case"MLOAD_F":return pr(e);default:return e}},hr={loading:!1,uploadedImageFile:null},gr=function(e,t){return tr(e,{loading:t.loading})},br=function(e,t){return tr(e,{uploadedImageFile:t.imageFile})},Er=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:hr,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"Remove_Pic_Loading":return gr(e,t);case"UploadImage":return br(e,t);default:return e}},vr={feeds:[]},kr=function(e,t){return console.log("edited data :-",t.feeds),tr(e,{feeds:t.feeds})},yr=function(e,t){return console.log("edited data :-",t.feeds),tr(e,{feeds:[].concat(Object(Te.a)(e.feeds),Object(Te.a)(t.feeds))})},wr=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:vr,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_FEEDS":return kr(e,t);case"ADD_FEEDS":return yr(e,t);default:return e}},xr={notifications:[],direct:[],maincount:0,directcount:0},Or=function(e,t){return tr(e,{maincount:t.maincount,reqrec:t.reqrec,reqsend:t.reqsend,directcount:t.directcount})},jr=function(e,t){return tr(e,{maincount:t.maincount})},Nr=function(e,t){return tr(e,{directcount:t.directcount})},Cr=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:xr,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ADD_NOTIFICATION_COUNT":return Or(e,t);case"SET_MAIN_COUNT":return jr(e,t);case"SET_DIRECT_COUNT":return Nr(e,t);default:return e}},Sr={directUsers:[]},_r=function(e,t){var a=e.directUsers;return-1===a.findIndex((function(e){return e.id===t.data.id}))?tr(e,{directUsers:[t.data].concat(Object(Te.a)(e.directUsers))}):(a=a.filter((function(e){return e.id!==t.data.id})),tr(e,{directUsers:[t.data].concat(Object(Te.a)(a))}))},Tr=function(e,t){return tr(e,{directUsers:[].concat(Object(Te.a)(e.directUsers),Object(Te.a)(t.data))})},Ar=function(e,t){return tr(e,{directUsers:t.data})},Rr=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Sr,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ADD_DIRECT":return _r(e,t);case"SET_DIRECT":return Tr(e,t);case"SET2_DIRECT":return Ar(e,t);default:return e}},Fr=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||g.d;var zr=function(){var e=Object(g.c)({auth:ir,profile:Er,message:fr,feeds:wr,notifications:Cr,direct:Rr});return Object(g.e)(e,Fr(Object(g.a)(er.a)))}();zr.dispatch((function(e){var t=JSON.parse(localStorage.getItem("user"));e(void 0===t||null===t?me():se(t))}));var Dr=o.a.createElement(B.a,null,o.a.createElement(m.a,{store:zr},o.a.createElement(Zo,null)));c.a.render(Dr,document.getElementById("root"))}},[[167,1,2]]]);
//# sourceMappingURL=main.1797b32c.chunk.js.map